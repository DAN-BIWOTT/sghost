!function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(m){"use strict";function n(e,t,i,n){var a,o={raw:{}};for(a in n=n||{})n.hasOwnProperty(a)&&("classes"===e?(o.raw[n[a]]=t+"-"+n[a],o[n[a]]="."+t+"-"+n[a]):(o.raw[a]=n[a],o[a]=n[a]+"."+t));for(a in i)i.hasOwnProperty(a)&&("classes"===e?(o.raw[a]=i[a].replace(/{ns}/g,t),o[a]=i[a].replace(/{ns}/g,"."+t)):(o.raw[a]=i[a].replace(/.{ns}/g,""),o[a]=i[a].replace(/{ns}/g,t)));return o}function e(){f.windowWidth=f.$window.width(),f.windowHeight=f.$window.height(),h=d.startTimer(h,p,t)}function t(){for(var e in f.ResizeHandlers)f.ResizeHandlers.hasOwnProperty(e)&&f.ResizeHandlers[e].callback.call(window,f.windowWidth,f.windowHeight)}function a(e,t){return parseInt(e.priority)-parseInt(t.priority)}function i(){this.Version="@version",this.Plugins={},this.DontConflict=!1,this.Conflicts={fn:{}},this.ResizeHandlers=[],this.RAFHandlers=[],this.window=l,this.$window=m(l),this.document=c,this.$document=m(c),this.$body=null,this.windowWidth=0,this.windowHeight=0,this.fallbackWidth=1024,this.fallbackHeight=768,this.userAgent=window.navigator.userAgent||window.navigator.vendor||window.opera,this.isFirefox=/Firefox/i.test(this.userAgent),this.isChrome=/Chrome/i.test(this.userAgent),this.isSafari=/Safari/i.test(this.userAgent)&&!this.isChrome,this.isMobile=/Android|webOS|iPhone|iPad|iPod|BlackBerry/i.test(this.userAgent),this.isIEMobile=/IEMobile/i.test(this.userAgent),this.isFirefoxMobile=this.isFirefox&&this.isMobile,this.transform=null,this.transition=null,this.support={file:!!(window.File&&window.FileList&&window.FileReader),history:!!(window.history&&window.history.pushState&&window.history.replaceState),matchMedia:!(!window.matchMedia&&!window.msMatchMedia),pointer:!!window.PointerEvent,raf:!(!window.requestAnimationFrame||!window.cancelAnimationFrame),touch:!!("ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch),transition:!1,transform:!1}}var o,s,r,l="undefined"!=typeof window?window:this,c=l.document,d={killEvent:function(e,t){try{e.preventDefault(),e.stopPropagation(),t&&e.stopImmediatePropagation()}catch(e){}},killGesture:function(e){try{e.preventDefault()}catch(e){}},lockViewport:function(e){g[e]=!0,m.isEmptyObject(g)||w||(o.length?o.attr("content",r):o=m("head").append('<meta name="viewport" content="'+r+'">'),f.$body.on(b.gestureChange,d.killGesture).on(b.gestureStart,d.killGesture).on(b.gestureEnd,d.killGesture),w=!0)},unlockViewport:function(e){"undefined"!==m.type(g[e])&&delete g[e],m.isEmptyObject(g)&&w&&(o.length&&(s?o.attr("content",s):o.remove()),f.$body.off(b.gestureChange).off(b.gestureStart).off(b.gestureEnd),w=!1)},startTimer:function(e,t,i,n){return d.clearTimer(e),n?setInterval(i,t):setTimeout(i,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},sortAsc:function(e,t){return parseInt(e,10)-parseInt(t,10)},sortDesc:function(e,t){return parseInt(t,10)-parseInt(e,10)},decodeEntities:function(e){var t=f.document.createElement("textarea");return t.innerHTML=e,t.value},parseQueryString:function(e){for(var t={},i=e.slice(e.indexOf("?")+1).split("&"),n=0;n<i.length;n++){var a=i[n].split("=");t[a[0]]=a[1]}return t}},f=new i,u=m.Deferred(),v={base:"{ns}",element:"{ns}-element"},b={namespace:".{ns}",beforeUnload:"beforeunload.{ns}",blur:"blur.{ns}",change:"change.{ns}",click:"click.{ns}",dblClick:"dblclick.{ns}",drag:"drag.{ns}",dragEnd:"dragend.{ns}",dragEnter:"dragenter.{ns}",dragLeave:"dragleave.{ns}",dragOver:"dragover.{ns}",dragStart:"dragstart.{ns}",drop:"drop.{ns}",error:"error.{ns}",focus:"focus.{ns}",focusIn:"focusin.{ns}",focusOut:"focusout.{ns}",gestureChange:"gesturechange.{ns}",gestureStart:"gesturestart.{ns}",gestureEnd:"gestureend.{ns}",input:"input.{ns}",keyDown:"keydown.{ns}",keyPress:"keypress.{ns}",keyUp:"keyup.{ns}",load:"load.{ns}",mouseDown:"mousedown.{ns}",mouseEnter:"mouseenter.{ns}",mouseLeave:"mouseleave.{ns}",mouseMove:"mousemove.{ns}",mouseOut:"mouseout.{ns}",mouseOver:"mouseover.{ns}",mouseUp:"mouseup.{ns}",panStart:"panstart.{ns}",pan:"pan.{ns}",panEnd:"panend.{ns}",resize:"resize.{ns}",scaleStart:"scalestart.{ns}",scaleEnd:"scaleend.{ns}",scale:"scale.{ns}",scroll:"scroll.{ns}",select:"select.{ns}",swipe:"swipe.{ns}",touchCancel:"touchcancel.{ns}",touchEnd:"touchend.{ns}",touchLeave:"touchleave.{ns}",touchMove:"touchmove.{ns}",touchStart:"touchstart.{ns}"},h=null,p=20,g=[],w=!1;return i.prototype.NoConflict=function(){for(var e in f.DontConflict=!0,f.Plugins)f.Plugins.hasOwnProperty(e)&&(m[e]=f.Conflicts[e],m.fn[e]=f.Conflicts.fn[e])},i.prototype.Ready=function(e){"complete"===f.document.readyState||"loading"!==f.document.readyState&&!f.document.documentElement.doScroll?e():f.document.addEventListener("DOMContentLoaded",e)},i.prototype.Plugin=function(e,t){return f.Plugins[e]=(p=t,i="fs-"+(h=e),g="fs"+h.replace(/(^|\s)([a-z])/g,function(e,t,i){return t+i.toUpperCase()}),p.initialized=!1,p.priority=p.priority||10,p.classes=n("classes",i,v,p.classes),p.events=n("events",h,b,p.events),p.functions=m.extend({getData:u,iterate:function(e){for(var t=Array.prototype.slice.call(arguments,1),i=0,n=this.length;i<n;i++){var a=this.eq(i),o=u(a)||{};"undefined"!==m.type(o.$el)&&e.apply(a,[o].concat(t))}return this}},d,p.functions),p.methods=m.extend(!0,{_construct:m.noop,_postConstruct:m.noop,_destruct:m.noop,_resize:!1,destroy:function(e){p.functions.iterate.apply(this,[p.methods._destruct].concat(Array.prototype.slice.call(arguments,1))),this.removeClass(p.classes.raw.element).removeData(g)}},p.methods),p.utilities=m.extend(!0,{_initialize:!1,_delegate:!1,defaults:function(e){p.defaults=m.extend(!0,p.defaults,e||{})}},p.utilities),p.widget&&(f.Conflicts.fn[h]=m.fn[h],m.fn[g]=function(e){if(this instanceof m){var t=p.methods[e];if("object"===m.type(e)||!e)return function(e){var t,i,n,a="object"===m.type(e),o=Array.prototype.slice.call(arguments,a?1:0),s=m();for(e=m.extend(!0,{},p.defaults||{},a?e:{}),i=0,n=this.length;i<n;i++)if(!u(t=this.eq(i))){p.guid++;var r="__"+p.guid,l=p.classes.raw.base+r,c=t.data(h+"-options"),d=m.extend(!0,{$el:t,guid:r,numGuid:p.guid,rawGuid:l,dotGuid:"."+l},e,"object"===m.type(c)?c:{});t.addClass(p.classes.raw.element).data(g,d),p.methods._construct.apply(t,[d].concat(o)),s=s.add(t)}for(i=0,n=s.length;i<n;i++)t=s.eq(i),p.methods._postConstruct.apply(t,[u(t)]);return this}.apply(this,arguments);if(t&&0!==e.indexOf("_")){var i=[t].concat(Array.prototype.slice.call(arguments,1));return p.functions.iterate.apply(this,i)}return this}},f.DontConflict||(m.fn[h]=m.fn[g])),f.Conflicts[h]=m[h],m[g]=p.utilities._delegate||function(e){var t=p.utilities[e]||p.utilities._initialize||!1;if(t){var i=Array.prototype.slice.call(arguments,"object"===m.type(e)?0:1);return t.apply(window,i)}},f.DontConflict||(m[h]=m[g]),p.namespace=h,p.namespaceClean=g,p.guid=0,p.methods._resize&&(f.ResizeHandlers.push({namespace:h,priority:p.priority,callback:p.methods._resize}),f.ResizeHandlers.sort(a)),p.methods._raf&&(f.RAFHandlers.push({namespace:h,priority:p.priority,callback:p.methods._raf}),f.RAFHandlers.sort(a)),p),f.Plugins[e];function u(e){return e.data(g)}var h,p,i,g},f.$window.on("resize.fs",e),e(),function e(){if(f.support.raf)for(var t in f.window.requestAnimationFrame(e),f.RAFHandlers)f.RAFHandlers.hasOwnProperty(t)&&f.RAFHandlers[t].callback.call(window)}(),f.Ready(function(){f.$body=m("body"),m("html").addClass(f.support.touch?"touchevents":"no-touchevents"),o=m('meta[name="viewport"]'),s=!!o.length&&o.attr("content"),r="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0",u.resolve()}),b.clickTouchStart=b.click+" "+b.touchStart,function(){var e,t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"otransitionend",transition:"transitionend"},i=["transition","-webkit-transition"],n={transform:"transform",MozTransform:"-moz-transform",OTransform:"-o-transform",msTransform:"-ms-transform",webkitTransform:"-webkit-transform"},a="transitionend",o="",s="",r=document.createElement("div");for(e in t)if(t.hasOwnProperty(e)&&e in r.style){a=t[e],f.support.transition=!0;break}for(e in b.transitionEnd=a+".{ns}",i)if(i.hasOwnProperty(e)&&i[e]in r.style){o=i[e];break}for(e in f.transition=o,n)if(n.hasOwnProperty(e)&&n[e]in r.style){f.support.transform=!0,s=n[e];break}f.transform=s}(),window.Formstone=f}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(o,e){"use strict";function s(){(function(){for(var e in a={unit:r.unit},m)if(m.hasOwnProperty(e))for(var t in g[e])if(g[e].hasOwnProperty(t)){var i="Infinity"===t?1/0:parseInt(t,10),n=-1<e.indexOf("max");g[e][t].matches&&(n?(!a[e]||i<a[e])&&(a[e]=i):(!a[e]||i>a[e])&&(a[e]=i))}})(),i.trigger(d.mqChange,[a])}function l(e){var t=c(e.media),i=p[t],n=e.matches,a=n?d.enter:d.leave;if(i&&(i.active||!i.active&&n)){for(var o in i[a])i[a].hasOwnProperty(o)&&i[a][o].apply(i.mq);i.active=!0}}function c(e){return e.replace(/[^a-z0-9\s]/gi,"").replace(/[_\s]/g,"").replace(/^\s+|\s+$/g,"")}var t=e.Plugin("mediaquery",{utilities:{_initialize:function(e){for(var t in e=e||{},m)m.hasOwnProperty(t)&&(r[t]=e[t]?o.merge(e[t],r[t]):r[t]);for(var i in(r=o.extend(r,e)).minWidth.sort(h.sortDesc),r.maxWidth.sort(h.sortAsc),r.minHeight.sort(h.sortDesc),r.maxHeight.sort(h.sortAsc),m)if(m.hasOwnProperty(i))for(var n in g[i]={},r[i])if(r[i].hasOwnProperty(n)){var a=window.matchMedia("("+m[i]+": "+(r[i][n]===1/0?1e5:r[i][n])+r.unit+")");a.addListener(s),g[i][r[i][n]]=a}s()},state:function(){return a},bind:function(e,t,i){var n=u.matchMedia(t),a=c(n.media);for(var o in p[a]||(p[a]={mq:n,active:!0,enter:{},leave:{}},p[a].mq.addListener(l)),i)i.hasOwnProperty(o)&&p[a].hasOwnProperty(o)&&(p[a][o][e]=i[o]);var s=p[a],r=n.matches;r&&s[d.enter].hasOwnProperty(e)?(s[d.enter][e].apply(n),s.active=!0):!r&&s[d.leave].hasOwnProperty(e)&&(s[d.leave][e].apply(n),s.active=!1)},unbind:function(e,t){if(e)if(t){var i=c(t);p[i]&&(p[i].enter[e]&&delete p[i].enter[e],p[i].leave[e]&&delete p[i].leave[e])}else for(var n in p)p.hasOwnProperty(n)&&(p[n].enter[e]&&delete p[n].enter[e],p[n].leave[e]&&delete p[n].leave[e])}},events:{mqChange:"mqchange"}}),r={minWidth:[0],maxWidth:[1/0],minHeight:[0],maxHeight:[1/0],unit:"px"},d=o.extend(t.events,{enter:"enter",leave:"leave"}),i=e.$window,u=i[0],h=t.functions,a=null,p=[],g={},m={minWidth:"min-width",maxWidth:"max-width",minHeight:"min-height",maxHeight:"max-height"}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(l,o){"use strict";function t(){u.scrollDepth&&s()}function i(){var e,t=l(this),i="undefined"!==l.type(t[0].href)?t[0].href:"",n=document.domain.split(".").reverse(),a=null!==i.match(n[1]+"."+n[0]);i.match(/^mailto\:/i)?e="Email, Click, "+i.replace(/^mailto\:/i,""):i.match(/^tel\:/i)?e="Telephone, Click, "+i.replace(/^tel\:/i,""):i.match(u.fileTypes)?e="File, Download:"+(/[.]/.exec(i)?/[^.]+$/.exec(i):void 0)[0]+", "+i.replace(/ /g,"-"):a||(e="ExternalLink, Click, "+i),e&&t.attr(w,e)}function n(e){m.startTimer($,250,a)}function a(){for(var e,t=p.scrollTop()+o.windowHeight,i=1/u.scrollStops,n=i,a=1;a<=u.scrollStops;a++)e=Math.round(100*n).toString(),!y[x][e].passed&&t>y[x][e].edge&&(y[x][e].passed=!0,c(l.extend(u.scrollFields,{eventCategory:"ScrollDepth",eventAction:x,eventLabel:e,nonInteraction:!0}))),n+=i}function s(){var e,t=l.mediaquery("state"),i=g.outerHeight(),n={},a=1/u.scrollStops,o=a,s=0;t.minWidth&&(x="MinWidth:"+t.minWidth+"px");for(var r=1;r<=u.scrollStops;r++)s=parseInt(i*o),n[e=Math.round(100*o).toString()]={edge:"100"===e?s-10:s,passsed:!(!y[x]||!y[x][e])&&y[x][e].passed},o+=a;y[x]=n}function r(e){var t=l(this),i=t.attr("href"),n=t.data(b).split(",");for(var a in u.eventCallback&&e.preventDefault(),n)n.hasOwnProperty(a)&&(n[a]=l.trim(n[a]));c({eventCategory:n[0],eventAction:n[1],eventLabel:n[2]||i,eventValue:n[3],nonInteraction:n[4]},t)}function c(e,t){h.location;var i=l.extend({hitType:"event"},e);if("undefined"!==l.type(t)&&!t.attr("data-analytics-stop")){var n="undefined"!==l.type(t[0].href)?t[0].href:"",a=!n.match(/^mailto\:/i)&&!n.match(/^tel\:/i)&&n.indexOf(":")<0?h.location.protocol+"//"+h.location.hostname+"/"+n:n;if(""!==a){var o=t.attr("target");o?h.open(a,o):u.eventCallback&&(i.hitCallback=function(){C&&(m.clearTimer(C),function(e){document.location=e}(a))},C=m.startTimer(C,u.eventTimeout,i.hitCallback))}}d(i)}function d(e){if("function"===l.type(h.ga)&&"function"===l.type(h.ga.getAll))for(var t=h.ga.getAll(),i=0,n=t.length;i<n;i++)h.ga(t[i].get("name")+".send",e)}var e=o.Plugin("analytics",{methods:{_resize:t},utilities:{_delegate:function(){if(arguments.length&&"object"!==l.type(arguments[0]))if("destroy"===arguments[0])(function(){v&&g&&g.length&&(p.off(f.namespace),g.off(f.namespace),v=!1)}).apply(this);else{var e=Array.prototype.slice.call(arguments,1);switch(arguments[0]){case"pageview":(function(e){d(l.extend({hitType:"pageview"},e))}).apply(this,e);break;case"event":c.apply(this,e)}}else(function(e){!v&&g&&g.length&&(v=!0,(u=l.extend(u,e||{})).autoEvents&&g.find("a").not("["+w+"]").each(i),u.scrollDepth&&(s(),p.on(f.scroll,n).one(f.load,t)),g.on(f.click,"*["+w+"]",r))}).apply(this,arguments);return null}}}),u={autoEvents:!1,fileTypes:/\.(zip|exe|dmg|pdf|doc.*|xls.*|ppt.*|mp3|txt|rar|wma|mov|avi|wmv|flv|wav)$/i,eventCallback:!1,eventTimeout:1e3,scrollDepth:!1,scrollStops:5,scrollFields:{}},h=o.window,p=o.$window,g=null,m=e.functions,f=e.events,v=!1,b="analytics-event",w="data-"+b,y={},$=null,x="Site",C=null;o.Ready(function(){g=o.$body})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./transition"],e):e(jQuery,Formstone)}(function(c,n){"use strict";function e(){(_=C.scrollTop()+n.windowHeight)<0&&(_=0),$.iterate.call(k,r)}function t(){H=c(b.base),k=c(b.lazy),$.iterate.call(k,s)}function i(e){if(e.visible){var t=e.source;e.source=null,a(e,t,!0)}}function a(e,t,i){if(t!==e.source&&e.visible){if(e.source=t,e.responsive=!1,e.isYouTube=!1,"object"===c.type(t)&&"string"===c.type(t.video)){var n=t.video.match(/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/i);n&&1<=n.length&&(e.isYouTube=!0,e.videoId=n[1])}var a=!e.isYouTube&&"object"===c.type(t)&&(t.hasOwnProperty("mp4")||t.hasOwnProperty("ogg")||t.hasOwnProperty("webm"));if(e.video=e.isYouTube||a,e.playing=!1,e.isYouTube)e.playerReady=!1,e.posterLoaded=!1,h(e,t,i);else if("object"===c.type(t)&&t.hasOwnProperty("poster"))!function(t,e,i){t.source&&t.source.poster&&(u(t,t.source.poster,!0,!0),i=!1);var n='<div class="'+[w.media,w.video,!0!==i?w.animated:""].join(" ")+'" aria-hidden="true">';n+="<video playsinline",t.loop&&(n+=" loop"),t.mute&&(n+=" muted"),t.autoPlay&&(n+=" autoplay"),n+=">",t.source.webm&&(n+='<source src="'+t.source.webm+'" type="video/webm" />'),t.source.mp4&&(n+='<source src="'+t.source.mp4+'" type="video/mp4" />'),t.source.ogg&&(n+='<source src="'+t.source.ogg+'" type="video/ogg" />'),n+="</video>";var a=c(n+="</div>");a.find("video").one(y.loadedMetaData,function(e){a.fsTransition({property:"opacity"},function(){p(t)}).css({opacity:1}),m(t),t.$el.trigger(y.loaded),t.autoPlay&&g(t)}),t.$container.append(a)}(e,0,i);else{var o=t;if("object"===c.type(t)){var s,r=[],l=[];for(s in t)t.hasOwnProperty(s)&&l.push(s);for(s in l.sort($.sortAsc),l)l.hasOwnProperty(s)&&r.push({width:parseInt(l[s]),url:t[l[s]],mq:x.matchMedia("(min-width: "+parseInt(l[s])+"px)")});e.responsive=!0,e.sources=r,o=d(e)}u(e,o,!1,i)}}else e.$el.trigger(y.loaded)}function d(e){var t=e.source;if(e.responsive)for(var i in t=e.sources[0].url,e.sources)e.sources.hasOwnProperty(i)&&(n.support.matchMedia?e.sources[i].mq.matches&&(t=e.sources[i].url):e.sources[i].width<n.fallbackWidth&&(t=e.sources[i].url));return t}function u(e,t,i,n){var a=[w.media,w.image,!0!==n?w.animated:""].join(" "),o=c('<div class="'+a+'" aria-hidden="true"><img alt="'+e.alt+'"></div>'),s=o.find("img"),r=t;s.one(y.load,function(){T&&o.addClass(w.native).css({backgroundImage:"url('"+r+"')"}),o.fsTransition({property:"opacity"},function(){i||p(e)}).css({opacity:1}),m(e),i&&!n||e.$el.trigger(y.loaded)}).one(y.error,e,l).attr("src",r),e.responsive&&o.addClass(w.responsive),e.$container.append(o),!s[0].complete&&4!==s[0].readyState||s.trigger(y.load),e.currentSource=r}function h(t,e,i){if(!t.videoId){var n=e.match(/^.*(?:youtu.be\/|v\/|e\/|u\/\w+\/|embed\/|v=)([^#\&\?]*).*/);t.videoId=n[1]}if(t.posterLoaded||(t.source.poster||(t.source.poster="//img.youtube.com/vi/"+t.videoId+"/0.jpg"),t.posterLoaded=!0,u(t,t.source.poster,!0,i),i=!1),c("script[src*='youtube.com/iframe_api']").length||c("head").append('<script src="//www.youtube.com/iframe_api"><\/script>'),W){var a=t.guid+"_"+t.youTubeGuid++,o='<div class="'+[w.media,w.embed,!0!==i?w.animated:""].join(" ")+'" aria-hidden="true">';o+='<div id="'+a+'"></div>';var s=c(o+="</div>"),r=c.extend(!0,{},{controls:0,rel:0,showinfo:0,wmode:"transparent",enablejsapi:1,version:3,playerapiid:a,loop:t.loop?1:0,autoplay:1,origin:x.location.protocol+"//"+x.location.host},t.youtubeOptions);r.autoplay=1,t.$container.append(s),t.player&&(t.oldPlayer=t.player,t.player=null),t.player=new x.YT.Player(a,{videoId:t.videoId,playerVars:r,events:{onReady:function(e){t.playerReady=!0,t.mute&&t.player.mute(),t.autoPlay||t.player.pauseVideo()},onStateChange:function(e){t.playing||e.data!==x.YT.PlayerState.PLAYING?t.loop&&t.playing&&e.data===x.YT.PlayerState.ENDED&&t.player.playVideo():(t.playing=!0,s.fsTransition({property:"opacity"},function(){p(t)}).css({opacity:1}),m(t),t.$el.trigger(y.loaded)),t.$el.find(b.embed).addClass(w.ready)},onPlaybackQualityChange:function(e){},onPlaybackRateChange:function(e){},onError:function(e){l({data:t})},onApiChange:function(e){}}}),m(t)}else M.push({data:t,source:e})}function p(e){var t=e.$container.find(b.media);1<=t.length&&(t.not(":last").remove(),e.oldPlayer=null)}function l(e){e.data.$el.trigger(y.error)}function g(e){if(e.video&&!e.playing)if(e.isYouTube)e.playerReady?e.player.playVideo():e.autoPlay=!0;else{var t=e.$container.find("video");t.length&&t[0].play(),e.playing=!0}}function o(e){if(e.visible)if(e.responsive){var t=d(e);t!==e.currentSource?u(e,t,!1,!0):m(e)}else m(e)}function m(e){for(var t=e.$container.find(b.media),i=0,n=t.length;i<n;i++){var a=t.eq(i),o=e.isYouTube?"iframe":a.find("video").length?"video":"img",s=a.find(o);if(s.length&&("img"!=o||!T)){var r=e.$el.outerWidth(),l=e.$el.outerHeight(),c=f(e,s);e.width=c.width,e.height=c.height,e.left=0,e.top=0;var d=e.isYouTube?e.embedRatio:e.width/e.height;e.height=l,e.width=e.height*d,e.width<r&&(e.width=r,e.height=e.width/d),e.left=-(e.width-r)/2,e.top=-(e.height-l)/2,a.css({height:e.height,width:e.width,left:e.left,top:e.top})}}}function s(e){e.scrollTop=e.$el.offset().top}function r(e){!e.visible&&e.scrollTop<_+e.lazyEdge&&(e.visible=!0,i(e))}function f(e,t){if(e.isYouTube)return{height:500,width:500/e.embedRatio};if(t.is("img")){var i=t[0];if("undefined"!==c.type(i.naturalHeight))return{height:i.naturalHeight,width:i.naturalWidth};var n=new Image;return n.src=i.src,{height:n.height,width:n.width}}return{height:t[0].videoHeight,width:t[0].videoWidth}}var v=n.Plugin("background",{widget:!0,defaults:{alt:"",autoPlay:!0,customClass:"",embedRatio:1.777777,lazy:!1,lazyEdge:100,loop:!0,mute:!0,source:null,youtubeOptions:{}},classes:["container","media","animated","responsive","native","fixed","ready","lazy"],events:{loaded:"loaded",ready:"ready",loadedMetaData:"loadedmetadata"},methods:{_construct:function(e){e.youTubeGuid=0,e.$container=c('<div class="'+w.container+'"></div>').appendTo(this),e.thisClasses=[w.base,e.customClass],e.visible=!0,e.lazy&&(e.visible=!1,e.thisClasses.push(w.lazy)),this.addClass(e.thisClasses.join(" ")),t(),e.lazy?(s(e),r(e)):i(e)},_destruct:function(e){e.$container.remove(),this.removeClass(e.thisClasses.join(" ")).off(y.namespace),t()},_resize:function(){$.iterate.call(H,o),$.iterate.call(k,s),$.iterate.call(k,r)},play:g,pause:function(e){if(e.video&&e.playing){if(e.isYouTube)e.playerReady?e.player.pauseVideo():e.autoPlay=!1;else{var t=e.$container.find("video");t.length&&t[0].pause()}e.playing=!1}},mute:function(e){if(e.video)if(e.isYouTube&&e.playerReady)e.player.mute();else{var t=e.$container.find("video");t.length&&(t[0].muted=!0)}e.mute=!0},unmute:function(e){if(e.video){if(e.isYouTube&&e.playerReady)e.player.unMute();else{var t=e.$container.find("video");t.length&&(t[0].muted=!1)}e.playing=!0}e.mute=!1},resize:m,load:a,unload:function(e){var t=e.$container.find(b.media);1<=t.length&&t.fsTransition({property:"opacity"},function(){t.remove(),delete e.source}).css({opacity:0})}}}),b=v.classes,w=b.raw,y=v.events,$=v.functions,x=n.window,C=n.$window,_=0,H=[],k=[],T="backgroundSize"in n.document.documentElement.style,W=!1,M=[];n.Ready(function(){e(),C.on("scroll",e)}),x.onYouTubeIframeAPIReady=function(){for(var e in W=!0,M)M.hasOwnProperty(e)&&h(M[e].data,M[e].source);M=[]}}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./touch"],e):e(jQuery,Formstone)}(function(u,h){"use strict";function p(){j=u(M.base)}function g(e){e.enabled&&(P.clearTimer(e.autoTimer),e.enabled=!1,e.$subordinate.off(A.update),this.removeClass([I.enabled,I.animated].join(" ")).off(A.namespace),e.$canister.fsTouch("destroy").off(A.namespace).attr("style","").css(E,"none"),e.$items.css({width:"",height:""}).removeClass([I.visible,M.item_previous,M.item_next].join(" ")),e.$images.off(A.namespace),e.$controlItems.off(A.namespace),e.$pagination.html("").off(A.namespace),d(e),e.useMargin?e.$canister.css({marginLeft:""}):e.$canister.css(S,""),e.index=0)}function m(e){e.enabled||(e.enabled=!0,this.addClass(I.enabled),e.$controlItems.on(A.click,e,s),e.$pagination.on(A.click,M.page,e,r),e.$items.on(A.click,e,$),e.$subordinate.on(A.update,e,C),C({data:e},0),e.$canister.fsTouch({axis:"x",pan:!0,swipe:!0}).on(A.panStart,e,l).on(A.pan,e,v).on(A.panEnd,e,b).on(A.swipe,e,w).on(A.focusIn,e,x).css(E,""),f(e),e.$images.on(A.load,e,o),e.autoAdvance&&(e.autoTimer=P.startTimer(e.autoTimer,e.autoTime,function(){!function(e){var t=e.index+1;t>=e.pageCount&&(t=0);c(e,t)}(e)},!0)),i.call(this,e))}function i(e){if(e.enabled){var t,i,n,a,o,s,r;if(e.count=e.$items.length,e.count<1)return d(e),void e.$canister.css({height:""});for(this.removeClass(I.animated),e.containerWidth=e.$container.outerWidth(!1),e.visible=function(e){var t=1;{if(e.single)return t;if("array"===u.type(e.show))for(var i in e.show)e.show.hasOwnProperty(i)&&(h.support.nativeMatchMedia?e.show[i].mq.matches&&(t=e.show[i].count):e.show[i].width<h.fallbackWidth&&(t=e.show[i].count));else t=e.show}return e.fill&&e.count<t?e.count:t}(e),e.perPage=e.paged?1:e.visible,e.itemMarginLeft=parseInt(e.$items.eq(0).css("marginLeft")),e.itemMarginRight=parseInt(e.$items.eq(0).css("marginRight")),e.itemMargin=e.itemMarginLeft+e.itemMarginRight,isNaN(e.itemMargin)&&(e.itemMargin=0),e.itemWidth=(e.containerWidth-e.itemMargin*(e.visible-1))/e.visible,e.itemHeight=0,e.pageWidth=e.paged?e.itemWidth:e.containerWidth,e.pageCount=Math.ceil(e.count/e.perPage),e.canisterWidth=e.single?e.containerWidth:(e.pageWidth+e.itemMargin)*e.pageCount,e.$canister.css({width:e.matchWidth?e.canisterWidth:1e6,height:""}),e.$items.css({width:e.matchWidth?e.itemWidth:"",height:""}).removeClass([I.visible,I.item_previous,I.item_next].join(" ")),e.pages=[],i=0;i<e.count;i+=e.perPage){for(s=o=0,(a=e.$items.slice(i,i+e.perPage)).length<e.perPage&&(a=0===i?e.$items:e.$items.slice(e.$items.length-e.perPage)),r=(e.rtl?a.eq(a.length-1):a.eq(0)).position().left,n=0;n<a.length;n++)o+=a.eq(n).outerWidth(!0),s<(t=a.eq(n).outerHeight())&&(s=t);e.pages.push({left:e.rtl?r-(e.canisterWidth-o):r,height:s,width:o,$items:a}),s>e.itemHeight&&(e.itemHeight=s),0}e.paged&&(e.pageCount-=e.count%e.visible),e.pageCount<=0&&(e.pageCount=1),e.maxMove=-e.pages[e.pageCount-1].left,e.autoHeight?e.$canister.css({height:e.pages[0].height}):e.matchHeight&&e.$items.css({height:e.itemHeight});var l="";for(i=0;i<e.pageCount;i++)l+='<button type="button" class="'+I.page+'">'+(i+1)+"</button>";e.$pagination.html(l),e.pageCount<=1?d(e):function(e){e.$controls.addClass(I.visible),e.$controlItems.addClass(I.visible),e.$pagination.addClass(I.visible)}(e),e.$paginationItems=e.$pagination.find(M.page),c(e,e.index,!1),setTimeout(function(){e.$el.addClass(I.animated)},5)}}function f(e){e.$items=e.$canister.children().not(":hidden").addClass(I.item),e.$images=e.$canister.find("img"),e.totalImages=e.$images.length}function t(e,t){e.$images.off(A.namespace),!1!==t&&e.$canister.html(t),e.index=0,f(e),i.call(this,e)}function e(e,t,i,n,a){e.enabled&&(P.clearTimer(e.autoTimer),void 0===a&&(a=!0),c(e,t-1,a,i,n))}function n(e){var t=e.index-1;e.infinite&&t<0&&(t=e.pageCount-1),c(e,t)}function a(e){var t=e.index+1;e.infinite&&t>=e.pageCount&&(t=0),c(e,t)}function o(e){var t=e.data;t.resizeTimer=P.startTimer(t.resizeTimer,20,function(){i.call(t.$el,t)})}function s(e){P.killEvent(e);var t=e.data,i=t.index+(u(e.currentTarget).hasClass(I.control_next)?1:-1);P.clearTimer(t.autoTimer),c(t,i)}function r(e){P.killEvent(e);var t=e.data,i=t.$paginationItems.index(u(e.currentTarget));P.clearTimer(t.autoTimer),c(t,i)}function c(e,t,i,n,a){if(t<0&&(t=e.infinite?e.pageCount-1:0),t>=e.pageCount&&(t=e.infinite?0:e.pageCount-1),!(e.count<1)){e.pages[t]&&(e.leftPosition=-e.pages[t].left),e.leftPosition=_(e,e.leftPosition),e.useMargin?e.$canister.css({marginLeft:e.leftPosition}):!1===i?(e.$canister.css(E,"none").css(S,"translateX("+e.leftPosition+"px)"),setTimeout(function(){e.$canister.css(E,"")},5)):e.$canister.css(S,"translateX("+e.leftPosition+"px)"),e.$items.removeClass([I.visible,I.item_previous,I.item_next].join(" "));for(var o=0,s=e.pages.length;o<s;o++)o===t?e.pages[o].$items.addClass(I.visible).attr("aria-hidden","false"):e.pages[o].$items.not(e.pages[t].$items).addClass(o<t?I.item_previous:I.item_next).attr("aria-hidden","true");e.autoHeight&&e.$canister.css({height:e.pages[t].height}),!1!==i&&!0!==n&&t!==e.index&&(e.infinite||-1<t&&t<e.pageCount)&&e.$el.trigger(A.update,[t]),e.index=t,e.linked&&!0!==a&&u(e.linked).not(e.$el)[W]("jumpPage",e.index+1,!0,!0),function(e){e.$paginationItems.removeClass(I.active).eq(e.index).addClass(I.active),e.infinite?e.$controlItems.addClass(I.visible):e.pageCount<1?e.$controlItems.removeClass(I.visible):(e.$controlItems.addClass(I.visible),e.index<=0?e.$controlPrevious.removeClass(I.visible):(e.index>=e.pageCount-1||!e.single&&e.leftPosition===e.maxMove)&&e.$controlNext.removeClass(I.visible))}(e)}}function d(e){e.$controls.removeClass(I.visible),e.$controlItems.removeClass(I.visible),e.$pagination.removeClass(I.visible)}function l(e,t){var i=e.data;if(P.clearTimer(i.autoTimer),!i.single){if(i.useMargin)i.leftPosition=parseInt(i.$canister.css("marginLeft"));else{var n=i.$canister.css(S).split(",");i.leftPosition=parseInt(n[4])}if(i.$canister.css(E,"none"),v(e),i.linked&&!0!==t){var a=e.deltaX/i.pageWidth;i.rtl&&(a*=-1),u(i.linked).not(i.$el)[W]("panStart",a)}}i.isTouching=!0}function v(e,t){var i=e.data;if(!i.single&&(i.touchLeft=_(i,i.leftPosition+e.deltaX),i.useMargin?i.$canister.css({marginLeft:i.touchLeft}):i.$canister.css(S,"translateX("+i.touchLeft+"px)"),i.linked&&!0!==t)){var n=e.deltaX/i.pageWidth;i.rtl&&(n*=-1),u(i.linked).not(i.$el)[W]("pan",n)}}function b(e,t){var i=e.data,n=Math.abs(e.deltaX),a=H(i,e),o=!1;if(i.didPan=!1,!i.single){var s,r,l=Math.abs(i.touchLeft),c=!1,d=i.rtl?"right":"left";if(e.directionX===d)for(s=0,r=i.pages.length;s<r;s++)c=i.pages[s],l>Math.abs(c.left)+20&&(o=s+1);else for(s=i.pages.length-1,r=0;r<=s;s--)c=i.pages[s],l<Math.abs(c.left)&&(o=s-1)}!1===o&&(o=n<50?i.index:i.index+a),o!==i.index&&(i.didPan=!0),i.linked&&!0!==t&&u(i.linked).not(i.$el)[W]("panEnd",o),y(i,o)}function w(e,t){var i=e.data,n=H(i,e),a=i.index+n;i.linked&&!0!==t&&u(i.linked).not(i.$el)[W]("swipe",e.directionX),y(i,a)}function y(e,t){e.$canister.css(E,""),c(e,t),e.isTouching=!1}function $(e){var t=e.data,i=u(e.currentTarget);if(!t.didPan&&(i.trigger(A.itemClick),t.controller)){var n=t.$items.index(i);C(e,n),t.$subordinate[W]("jumpPage",n+1,!0)}}function x(e){var t=e.data;if(t.enabled&&!t.isTouching){P.clearTimer(t.autoTimer),t.$container.scrollLeft(0);var i,n=u(e.target);n.hasClass(I.item)?i=n:n.parents(M.item).length&&(i=n.parents(M.item).eq(0));for(var a=0;a<t.pageCount;a++)if(t.pages[a].$items.is(i)){c(t,a);break}}}function C(e,t){var i=e.data;if(i.controller){var n=i.$items.eq(t);i.$items.removeClass(I.active),n.addClass(I.active);for(var a=0;a<i.pageCount;a++)if(i.pages[a].$items.is(n)){c(i,a,!0,!0);break}}}function _(e,t){return isNaN(t)?t=0:e.rtl?(t>e.maxMove&&(t=e.maxMove),t<0&&(t=0)):(t<e.maxMove&&(t=e.maxMove),0<t&&(t=0)),t}function H(e,t){return e.rtl?"right"===t.directionX?1:-1:"left"===t.directionX?1:-1}var k=h.Plugin("carousel",{widget:!0,defaults:{autoAdvance:!1,autoHeight:!1,autoTime:8e3,contained:!0,controls:!0,customClass:"",fill:!1,infinite:!1,labels:{next:"Next",previous:"Previous"},matchHeight:!1,matchWidth:!0,maxWidth:1/0,minWidth:"0px",paged:!1,pagination:!0,rtl:!1,show:1,single:!1,theme:"fs-light",useMargin:!1},classes:["ltr","rtl","viewport","wrapper","container","canister","item","item_previous","item_next","controls","controls_custom","control","control_previous","control_next","pagination","page","animated","enabled","visible","active","auto_height","contained","single"],events:{itemClick:"itemClick",update:"update"},methods:{_construct:function(e){var t;e.didPan=!1,e.carouselClasses=[I.base,e.theme,e.customClass,e.rtl?I.rtl:I.ltr],e.maxWidth=e.maxWidth===1/0?"100000px":e.maxWidth,e.mq="(min-width:"+e.minWidth+") and (max-width:"+e.maxWidth+")",e.customControls="object"===u.type(e.controls)&&e.controls.previous&&e.controls.next,e.customPagination="string"===u.type(e.pagination),e.id=this.attr("id"),e.id?e.ariaId=e.id:(e.ariaId=e.rawGuid,this.attr("id",e.ariaId)),h.support.transform||(e.useMargin=!0);var i="",n="",a=[I.control,I.control_previous].join(" "),o=[I.control,I.control_next].join(" ");e.controls&&!e.customControls&&(i+='<div class="'+I.controls+'" aria-label="carousel controls" aria-controls="'+e.ariaId+'">',i+='<button type="button" class="'+a+'" aria-label="Previous">'+e.labels.previous+"</button>",i+='<button type="button" class="'+o+'" aria-label="Next">'+e.labels.next+"</button>",i+="</div>"),e.pagination&&!e.customPagination&&(n+='<div class="'+I.pagination+'" aria-label="carousel pagination" aria-controls="'+e.ariaId+'" role="navigation">',n+="</div>"),e.autoHeight&&e.carouselClasses.push(I.auto_height),e.contained&&e.carouselClasses.push(I.contained),e.single&&e.carouselClasses.push(I.single),this.addClass(e.carouselClasses.join(" ")).wrapInner('<div class="'+I.wrapper+'" aria-live="polite"><div class="'+I.container+'"><div class="'+I.canister+'"></div></div></div>').append(i).wrapInner('<div class="'+I.viewport+'"></div>').append(n),e.$viewport=this.find(M.viewport).eq(0),e.$container=this.find(M.container).eq(0),e.$canister=this.find(M.canister).eq(0),e.$pagination=this.find(M.pagination).eq(0),e.$controlPrevious=e.$controlNext=u(""),e.customControls?(e.$controls=u(e.controls.container).addClass([I.controls,I.controls_custom].join(" ")),e.$controlPrevious=u(e.controls.previous).addClass(a),e.$controlNext=u(e.controls.next).addClass(o)):(e.$controls=this.find(M.controls).eq(0),e.$controlPrevious=e.$controls.find(M.control_previous),e.$controlNext=e.$controls.find(M.control_next)),e.$controlItems=e.$controlPrevious.add(e.$controlNext),e.customPagination&&(e.$pagination=u(e.pagination).addClass([I.pagination])),e.$paginationItems=e.$pagination.find(M.page),e.index=0,e.enabled=!1,e.leftPosition=0,e.autoTimer=null,e.resizeTimer=null;var s=this.data(T+"-linked");e.linked=!!s&&"[data-"+T+'-linked="'+s+'"]',e.linked&&(e.paged=!0);var r=this.data(T+"-controller-for")||"";if(e.$subordinate=u(r),e.$subordinate.length&&(e.controller=!0),"object"===u.type(e.show)){var l=e.show,c=[],d=[];for(t in l)l.hasOwnProperty(t)&&d.push(t);for(t in d.sort(P.sortAsc),d)d.hasOwnProperty(t)&&c.push({width:parseInt(d[t]),count:l[d[t]],mq:window.matchMedia("(min-width: "+parseInt(d[t])+"px)")});e.show=c}f(e),u.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){m.call(e.$el,e)},leave:function(){g.call(e.$el,e)}}),p(),e.carouselClasses.push(I.enabled),e.carouselClasses.push(I.animated)},_destruct:function(e){P.clearTimer(e.autoTimer),P.clearTimer(e.resizeTimer),g.call(this,e),u.fsMediaquery("unbind",e.rawGuid),e.id!==e.ariaId&&this.removeAttr("id"),e.$controlItems.removeClass([M.control,I.control_previous,M.control_next,M.visible].join(" ")).off(A.namespace),e.$images.off(A.namespace),e.$canister.fsTouch("destroy"),e.$items.removeClass([I.item,I.visible,M.item_previous,M.item_next].join(" ")).unwrap().unwrap().unwrap().unwrap(),e.controls&&!e.customControls&&e.$controls.remove(),e.customControls&&e.$controls.removeClass([I.controls,I.controls_custom,I.visible].join(" ")),e.pagination&&!e.customPagination&&e.$pagination.remove(),e.customPagination&&e.$pagination.html("").removeClass([I.pagination,I.visible].join(" ")),this.removeClass(e.carouselClasses.join(" ")),p()},_resize:function(e){P.iterate.call(j,i)},disable:g,enable:m,jump:e,previous:n,next:a,jumpPage:e,previousPage:n,nextPage:a,jumpItem:function(e,t,i,n,a){if(e.enabled){P.clearTimer(e.autoTimer);var o=e.$items.eq(t-1);void 0===a&&(a=!0);for(var s=0;s<e.pageCount;s++)if(e.pages[s].$items.is(o)){c(e,s,a,i,n);break}}},reset:function(e){e.enabled&&t.call(this,e,!1)},resize:i,update:t,panStart:function(e,t){if(P.clearTimer(e.autoTimer),!e.single){if(e.rtl&&(t*=-1),e.useMargin)e.leftPosition=parseInt(e.$canister.css("marginLeft"));else{var i=e.$canister.css(S).split(",");e.leftPosition=parseInt(i[4])}e.$canister.css(E,"none"),v({data:e,deltaX:e.pageWidth*t},!0)}e.isTouching=!0},pan:function(e,t){if(!e.single){e.rtl&&(t*=-1);var i=e.pageWidth*t;e.touchLeft=_(e,e.leftPosition+i),e.useMargin?e.$canister.css({marginLeft:e.touchLeft}):e.$canister.css(S,"translateX("+e.touchLeft+"px)")}},panEnd:function(e,t){y(e,t)},swipe:function(e,t){w({data:e,directionX:t},!0)}}}),T=k.namespace,W=k.namespaceClean,M=k.classes,I=M.raw,A=k.events,P=k.functions,j=[],S=h.transform,E=h.transition}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(s,e){"use strict";function r(e){var t=e.data;s(e.target).is(t.$el)||(e.preventDefault(),t.$el.trigger("click"))}function l(e){var t=e.data,i=t.$el.is(":disabled"),n=t.$el.is(":checked");i||(t.radio?n&&a(e):n?a(e):c(e))}function a(e){e.data.radio&&s('input[name="'+e.data.group+'"]').not(e.data.$el).trigger("deselect"),e.data.$el.trigger(g.focus),e.data.$classable.addClass(p.checked)}function c(e){e.data.$classable.removeClass(p.checked)}function d(e){e.data.$classable.addClass(p.focus)}function u(e){e.data.$classable.removeClass(p.focus)}var t=e.Plugin("checkbox",{widget:!0,defaults:{customClass:"",toggle:!1,labels:{on:"ON",off:"OFF"},theme:"fs-light"},classes:["element_placeholder","label","marker","flag","radio","focus","checked","disabled","toggle","state","state_on","state_off"],methods:{_construct:function(e){var t=this.closest("label"),i=t.length?t.eq(0):s("label[for="+this.attr("id")+"]"),n=[p.base,e.theme,e.customClass].join(" "),a=[p.label,e.theme,e.customClass].join(" "),o="";e.radio="radio"===this.attr("type"),e.group=this.attr("name"),o+='<div class="'+p.marker+'" aria-hidden="true">',o+='<div class="'+p.flag+'"></div>',e.toggle&&(n+=" "+p.toggle,a+=" "+p.toggle,o+='<span class="'+[p.state,p.state_on].join(" ")+'">'+e.labels.on+"</span>",o+='<span class="'+[p.state,p.state_off].join(" ")+'">'+e.labels.off+"</span>"),e.radio&&(n+=" "+p.radio,a+=" "+p.radio),o+="</div>",e.$placeholder=s('<span class="'+p.element_placeholder+'"></span>'),this.before(e.$placeholder),e.labelParent=i.find(this).length,e.labelClass=a,i.addClass(a),e.labelParent?i.wrap('<div class="'+n+'"></div>').before(o):this.before('<div class=" '+n+'">'+o+"</div>"),e.$checkbox=e.labelParent?i.parents(h.base):this.prev(h.base),e.$marker=e.$checkbox.find(h.marker),e.$states=e.$checkbox.find(h.state),e.$label=i,e.$classable=s().add(e.$checkbox).add(e.$label),this.is(":checked")&&e.$classable.addClass(p.checked),this.is(":disabled")&&e.$classable.addClass(p.disabled),this.appendTo(e.$marker),this.on(g.focus,e,d).on(g.blur,e,u).on(g.change,e,l).on(g.click,e,r).on(g.deselect,e,c),e.$checkbox.on(g.click,e,r)},_destruct:function(e){e.$checkbox.off(g.namespace),e.$marker.remove(),e.$states.remove(),e.$label.removeClass(e.labelClass),e.labelParent?e.$label.unwrap():this.unwrap(),e.$placeholder.before(this),e.$placeholder.remove(),this.off(g.namespace)},enable:function(e){this.prop("disabled",!1),e.$classable.removeClass(p.disabled)},disable:function(e){this.prop("disabled",!0),e.$classable.addClass(p.disabled)},update:function(e){var t=e.$el.is(":disabled"),i=e.$el.is(":checked");t||(i?a({data:e}):c({data:e}))}},events:{deselect:"deselect"}}),h=t.classes,p=h.raw,g=t.events;t.functions}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(d,e){"use strict";function n(e,t,i){var n=!1,a=new Date;i.expires&&"number"===d.type(i.expires)&&(a.setTime(a.getTime()+i.expires),n=a.toGMTString());var o=i.domain?"; domain="+i.domain:"",s=n?"; expires="+n:"",r=n?"; max-age="+i.expires/1e3:"",l=i.path?"; path="+i.path:"",c=i.secure?"; secure":"";u.cookie=e+"="+t+s+r+o+l+c}e.Plugin("cookie",{utilities:{_delegate:function(e,t,i){if("object"===d.type(e))a=d.extend(a,e);else if(i=d.extend({},a,i||{}),"undefined"!==d.type(e)){if("undefined"===d.type(t))return function(e){for(var t=e+"=",i=u.cookie.split(";"),n=0;n<i.length;n++){for(var a=i[n];" "===a.charAt(0);)a=a.substring(1,a.length);if(0===a.indexOf(t))return a.substring(t.length,a.length)}return null}(e);null===t?function(e,t){n(e,"",d.extend({},t,{expires:-6048e5}))}(e,i):n(e,t,i)}return null}}});var a={domain:null,expires:6048e5,path:null,secure:null},u=e.document}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./scrollbar","./touch"],e):e(jQuery,Formstone)}(function(u,h){"use strict";function p(e){for(var t="",i=0,n=e.$allOptions.length;i<n;i++){var a=e.$allOptions.eq(i),o=[];if("OPTGROUP"===a[0].tagName)o.push(C.group),a.prop("disabled")&&o.push(C.disabled),t+='<span class="'+o.join(" ")+'">'+a.attr("label")+"</span>";else{var s=a.val(),r=a.data("label"),l=e.links?"a":'button type="button"';a.attr("value")||a.attr("value",s),o.push(C.item),a.hasClass(C.item_placeholder)&&(o.push(C.item_placeholder),l="span"),a.prop("selected")&&o.push(C.item_selected),a.prop("disabled")&&o.push(C.item_disabled),t+="<"+l+' class="'+o.join(" ")+'"',e.links?"span"===l?t+=' aria-hidden="true"':(t+=' href="'+s+'"',e.external&&(t+=' target="_blank"')):t+=' data-value="'+s+'"',t+=' role="option"',a.prop("selected")&&(t+=' "aria-selected"="true"'),t+=">",t+=r||c.decodeEntities($(a.text(),e.trim)),t+="</"+l+">"}}e.$items=e.$wrapper.html(u.parseHTML(t)).find(x.item)}function g(e){c.killEvent(e);var t=e.data;t.disabled||t.useNative||(t.closed?n(t):s(t)),i(t)}function i(e){u(x.base).not(e.$dropdown).trigger(_.close,[e])}function n(e){if(e.closed){var t=H.height(),i=e.$wrapper.outerHeight(!0);e.$dropdown[0].getBoundingClientRect().bottom+i>t-e.bottomEdge&&e.$dropdown.addClass(C.bottom),k.on(_.click+e.dotGuid,":not("+x.options+")",e,a),e.$dropdown.trigger(_.focusIn),e.$dropdown.addClass(C.open),r(e),e.closed=!1}}function s(e){e&&!e.closed&&(k.off(_.click+e.dotGuid),e.$dropdown.removeClass([C.open,C.bottom].join(" ")),e.closed=!0)}function a(e){c.killEvent(e);var t=e.data;t&&0===u(e.currentTarget).parents(x.base).length&&(s(t),t.$dropdown.trigger(_.focusOut))}function m(e){var t=e.data;t&&(s(t),t.$dropdown.trigger(_.focusOut))}function f(e){var t=u(this),i=e.data;if(c.killEvent(e),!i.disabled){var n=i.$items.index(t);i.focusIndex=n,i.$wrapper.is(":visible")&&(y(n,i,e.shiftKey,e.metaKey||e.ctrlKey),l(i)),i.multiple||s(i),i.$dropdown.trigger(_.focus)}}function v(e,t){u(this);var i=e.data;if(!t&&!i.multiple){var n=i.$options.index(i.$options.filter(":selected"));y(i.focusIndex=n,i),l(i,!0)}}function b(e){c.killEvent(e),u(e.currentTarget);var t=e.data;t.disabled||t.multiple||t.focused||(i(t),t.focused=!0,t.focusIndex=t.index,t.input="",t.$dropdown.addClass(C.focus).on(_.keyDown+t.dotGuid,t,o))}function w(e){c.killEvent(e),u(e.currentTarget);var t=e.data;t.focused&&t.closed&&(t.focused=!1,t.$dropdown.removeClass(C.focus).off(_.keyDown+t.dotGuid),t.multiple||(s(t),t.index!==t.focusIndex&&(l(t),t.focusIndex=t.index)))}function o(e){var t=e.data;if(t.keyTimer=c.startTimer(t.keyTimer,1e3,function(){t.input=""}),13===e.keyCode)t.closed||(s(t),y(t.index,t)),l(t);else if(!(9===e.keyCode||e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)){c.killEvent(e);var i=t.$items.length-1,n=t.index<0?0:t.index;if(-1<u.inArray(e.keyCode,h.isFirefox?[38,40,37,39]:[38,40]))(n+=38===e.keyCode||h.isFirefox&&37===e.keyCode?-1:1)<0&&(n=0),i<n&&(n=i);else{var a,o=String.fromCharCode(e.keyCode).toUpperCase();for(t.input+=o,a=t.index+1;a<=i;a++)if(t.$options.eq(a).text().substr(0,t.input.length).toUpperCase()===t.input){n=a;break}if(n<0||n===t.index)for(a=0;a<=i;a++)if(t.$options.eq(a).text().substr(0,t.input.length).toUpperCase()===t.input){n=a;break}}0<=n&&(y(n,t),r(t))}}function y(e,t,i,n){var a=t.$items.eq(e),o=t.$options.eq(e),s=a.hasClass(C.item_selected);if(!a.hasClass(C.item_disabled))if(t.multiple)if(t.useNative)s?(o.prop("selected",null).attr("aria-selected",null),a.removeClass(C.item_selected)):(o.prop("selected",!0).attr("aria-selected",!0),a.addClass(C.item_selected));else if(i&&!1!==t.lastIndex){var r=t.lastIndex>e?e:t.lastIndex,l=(t.lastIndex>e?t.lastIndex:e)+1;t.$options.prop("selected",null).attr("aria-selected",null),t.$items.filter(x.item_selected).removeClass(C.item_selected),t.$options.slice(r,l).not("[disabled]").prop("selected",!0),t.$items.slice(r,l).not(x.item_disabled).addClass(C.item_selected)}else n||t.selectMultiple?s?(o.prop("selected",null).attr("aria-selected",null),a.removeClass(C.item_selected)):(o.prop("selected",!0).attr("aria-selected",!0),a.addClass(C.item_selected)):(t.$options.prop("selected",null).attr("aria-selected",null),t.$items.filter(x.item_selected).removeClass(C.item_selected),o.prop("selected",!0).attr("aria-selected",!0),a.addClass(C.item_selected)),t.lastIndex=e;else if(-1<e&&e<t.$items.length){if(e!==t.index){var c=o.data("label")||a.html();t.$selected.html(c).removeClass(x.item_placeholder),t.$items.filter(x.item_selected).removeClass(C.item_selected),t.$el[0].selectedIndex=e,a.addClass(C.item_selected),t.index=e}}else""!==t.label&&t.$selected.html(t.label)}function r(e){var t=e.$items.eq(e.index),i=0<=e.index&&!t.hasClass(C.item_placeholder)?t.position():{left:0,top:0},n=(e.$wrapper.outerHeight()-t.outerHeight())/2;void 0!==u.fn.fsScrollbar?e.$wrapper.fsScrollbar("resize").fsScrollbar("scroll",e.$wrapper.find(".fs-scrollbar-content").scrollTop()+i.top):e.$wrapper.scrollTop(e.$wrapper.scrollTop()+i.top-n)}function l(e,t){e.links?function(e){var t=e.$el.val();e.external?d.open(t):d.location.href=t}(e):t||e.$el.trigger(_.raw.change,[!0])}function $(e,t){return 0===t?e:e.length>t?e.substring(0,t)+"...":e}var e=h.Plugin("dropdown",{widget:!0,defaults:{bottomEdge:0,cover:!1,customClass:"",label:"",external:!1,links:!1,mobile:!1,native:!1,theme:"fs-light",trim:0,selectMultiple:!1},methods:{_construct:function(e){e.multiple=this.prop("multiple"),e.disabled=this.prop("disabled")||this.is("[readonly]"),e.lastIndex=!1,e.native=e.mobile||e.native,e.useNative=e.native||h.isMobile,e.multiple?e.links=!1:e.external&&(e.links=!0);var t=this.find("[selected]").not(":disabled"),i=this.find(":selected").not(":disabled"),n=i.text(),a=this.find("option").index(i);e.multiple||""===e.label||t.length?e.label="":(i=this.prepend('<option value="" class="'+C.item_placeholder+'" selected>'+e.label+"</option>"),n=e.label,a=0);var o=this.find("option, optgroup"),s=o.filter("option"),r=u('[for="'+this.attr("id")+'"]');e.tabIndex=this[0].tabIndex,this[0].tabIndex=-1,r.length&&(r[0].tabIndex=-1);var l=[C.base,e.theme,e.customClass];e.useNative?l.push(C.native):e.cover&&l.push(C.cover),e.multiple&&l.push(C.multiple),e.disabled&&l.push(C.disabled),e.id=this.attr("id"),e.id?e.ariaId=e.id:e.ariaId=e.rawGuid,e.ariaId+="-dropdown",e.selectedAriaId=e.ariaId+"-selected";var c="",d="";c+='<div class="'+l.join(" ")+'"id="'+e.ariaId+'" tabindex="'+e.tabIndex+'" role="listbox"',e.multiple?c+=' aria-label="multi select"':c+=' aria-haspopup="true" aria-live="polite" aria-labelledby="'+e.selectedAriaId+'"',c+="></div>",e.multiple||(d+='<button type="button" class="'+C.selected+'" id="'+e.selectedAriaId+'" tabindex="-1">',d+=u("<span></span>").text($(n,e.trim)).html(),d+="</button>"),d+='<div class="'+C.options+'">',d+="</div>",this.wrap(c).after(d),e.$dropdown=this.parent(x.base),e.$label=r,e.$allOptions=o,e.$options=s,e.$selected=e.$dropdown.find(x.selected),e.$wrapper=e.$dropdown.find(x.options),e.$placeholder=e.$dropdown.find(x.placeholder),e.index=-1,e.closed=!0,e.focused=!1,p(e),e.multiple||y(a,e),void 0!==u.fn.fsScrollbar&&e.$wrapper.fsScrollbar({theme:e.theme}).find(".fs-scrollbar-content").attr("tabindex",null),e.$dropdown.on(_.click,e,g),e.$selected.on(_.click,e,g),e.$dropdown.on(_.click,x.item,e,f).on(_.close,e,m),this.on(_.change,e,v),e.useNative||(this.on(_.focusIn,e,function(e){e.data.$dropdown.trigger(_.raw.focus)}),e.$dropdown.on(_.focusIn,e,b).on(_.focusOut,e,w))},_destruct:function(e){e.$dropdown.hasClass(C.open)&&e.$selected.trigger(_.click),void 0!==u.fn.fsScrollbar&&e.$wrapper.fsScrollbar("destroy"),e.$el[0].tabIndex=e.tabIndex,e.$label.length&&(e.$label[0].tabIndex=e.tabIndex),e.$dropdown.off(_.namespace),e.$options.off(_.namespace),e.$placeholder.remove(),e.$selected.remove(),e.$wrapper.remove(),e.$el.off(_.namespace).show().unwrap()},disable:function(e,t){if(void 0!==t){var i=e.$items.index(e.$items.filter("[data-value="+t+"]"));e.$items.eq(i).addClass(C.item_disabled),e.$options.eq(i).prop("disabled",!0)}else e.$dropdown.hasClass(C.open)&&e.$selected.trigger(_.click),e.$dropdown.addClass(C.disabled),e.$el.prop("disabled",!0),e.disabled=!0},enable:function(e,t){if(void 0!==t){var i=e.$items.index(e.$items.filter("[data-value="+t+"]"));e.$items.eq(i).removeClass(C.item_disabled),e.$options.eq(i).prop("disabled",!1)}else e.$dropdown.removeClass(C.disabled),e.$el.prop("disabled",!1),e.disabled=!1},update:function(e){void 0!==u.fn.fsScrollbar&&e.$wrapper.fsScrollbar("destroy");var t=e.index;e.$allOptions=e.$el.find("option, optgroup"),e.$options=e.$allOptions.filter("option"),e.index=-1,t=e.$options.index(e.$options.filter(":selected")),p(e),e.multiple||y(t,e),void 0!==u.fn.fsScrollbar&&e.$wrapper.fsScrollbar({theme:e.theme}).find(".fs-scrollbar-content").attr("tabindex",null)},open:n,close:s},classes:["cover","bottom","multiple","mobile","native","open","disabled","focus","selected","options","group","item","item_disabled","item_selected","item_placeholder"],events:{close:"close"}}),x=e.classes,C=x.raw,_=e.events,c=e.functions,d=h.window,H=h.$window,k=(h.document,null);h.Ready(function(){k=h.$body})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(t,e){"use strict";function i(){c=t(s.element)}function n(e){if(e.data&&(e=e.data),e.enabled)for(var t,i,n,a=0;a<e.target.length;a++){i=t=0,(n=e.$el.find(e.target[a])).css(e.property,"");for(var o=0;o<n.length;o++)(i=n.eq(o)[e.type]())>t&&(t=i);n.css(e.property,t)}}function a(e){for(var t=0;t<e.target.length;t++)e.$el.find(e.target[t]).css(e.property,"");e.$el.find("img").off(r.namespace)}var o=e.Plugin("equalize",{widget:!0,priority:5,defaults:{maxWidth:1/0,minWidth:"0px",property:"height",target:null},methods:{_construct:function(e){e.maxWidth=e.maxWidth===1/0?"100000px":e.maxWidth,e.mq="(min-width:"+e.minWidth+") and (max-width:"+e.maxWidth+")",e.type="height"===e.property?"outerHeight":"outerWidth",e.target?t.isArray(e.target)||(e.target=[e.target]):e.target=["> *"],i(),t.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){(function(e){if(!e.enabled){e.enabled=!0;var t=e.$el.find("img");t.length&&t.on(r.load,e,n),n(e)}}).call(e.$el,e)},leave:function(){(function(e){e.enabled&&(e.enabled=!1,a(e))}).call(e.$el,e)}})},_destruct:function(e){a(e),t.fsMediaquery("unbind",e.rawGuid),i()},_resize:function(e){l.iterate.call(c,n)},resize:n}}),s=o.classes,r=(s.raw,o.events),l=o.functions,c=[]}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./touch","./transition","./viewer"],e):e(jQuery,Formstone)}(function(w,y){"use strict";function i(e){if(!R){var t=e.data;!0===t.overlay&&(t.mobile=!0),(R=w.extend({},{visible:!1,gallery:{active:!1},isMobile:y.isMobile||t.mobile,isTouch:y.support.touch,isAnimating:!0,isZooming:!1,oldContentHeight:0,oldContentWidth:0,metaHeight:0,thumbnailHeight:0,captionOpen:!1,thumbnailsOpen:!1,tapTimer:null},t)).isViewer=R.isMobile&&t.viewer&&void 0!==w.fn.fsViewer;var i=t.$el,n=t.$object,a=i&&i[0].href&&i[0].href||"",o=i&&i[0].hash&&i[0].hash||"",s=(a.toLowerCase().split(".").pop().split(/\#|\?/),i?i.data(S+"-type"):""),r="image"===s||a.match(t.fileTypes)||"data:image"===a.substr(0,10),l=P(a),c="url"===s||!r&&!l&&"http"===a.substr(0,4)&&!o,d="element"===s||!r&&!l&&!c&&"#"===o.substr(0,1),u=void 0!==n;if(d&&(a=o),!(r||l||c||d||u))return void(R=null);if(q.killEvent(e),R.margin*=2,R.type=r?"image":l?"video":"element",r||l){var h=i.data(S+"-gallery");h&&(R.gallery.active=!0,R.gallery.id=h,R.gallery.$items=w("a[data-lightbox-gallery= "+R.gallery.id+"], a[rel= "+R.gallery.id+"]"),R.gallery.index=R.gallery.$items.index(R.$el),R.gallery.total=R.gallery.$items.length-1)}R.thumbnails&&(r||l)&&R.gallery.active||(R.thumbnails=!1);var p="";R.isMobile||(p+='<div class="'+[L.overlay,R.theme,R.customClass].join(" ")+'"></div>');var g=[L.base,L.loading,L.animating,R.theme,R.customClass];if(R.fixed&&g.push(L.fixed),R.isMobile&&g.push(L.mobile),R.isTouch&&g.push(L.touch),c&&g.push(L.iframed),(d||u)&&g.push(L.inline),R.thumbnails&&g.push(L.thumbnailed),R.labels.lightbox=R.labels.lightbox.replace("{guid}",t.numGuid),p+='<div class="'+g.join(" ")+'" role="dialog" aria-label="'+R.labels.lightbox+'" tabindex="-1">',p+='<button type="button" class="'+L.close+'">'+R.labels.close+"</button>",p+='<span class="'+L.loading_icon+'"></span>',p+='<div class="'+L.container+'">',R.gallery.active&&R.thumbnails){p+='<div class="'+[L.thumbnails]+'">',p+='<div class="'+[L.thumbnail_container]+'">';for(var m,f,v=0,b=R.gallery.$items.length;v<b;v++)(f=(m=R.gallery.$items.eq(v)).data("lightbox-thumbnail"))||(f=m.find("img").attr("src")),p+='<button class="'+[L.thumbnail_item]+'">',p+='<img src="'+f+'" alt="">',p+="</button>";p+="</div></div>"}p+='<div class="'+L.content+'"></div>',(r||l)&&(p+='<div class="'+L.tools+'">',p+='<div class="'+L.controls+'">',R.gallery.active&&(p+='<button type="button" class="'+[L.control,L.control_previous].join(" ")+'">'+R.labels.previous+"</button>",p+='<button type="button" class="'+[L.control,L.control_next].join(" ")+'">'+R.labels.next+"</button>"),R.isMobile&&R.isTouch&&(p+='<button type="button" class="'+[L.toggle,L.caption_toggle].join(" ")+'">'+R.labels.captionClosed+"</button>",R.gallery.active&&R.thumbnails&&(p+='<button type="button" class="'+[L.toggle,L.thumbnail_toggle].join(" ")+'">'+R.labels.thumbnailsClosed+"</button>")),p+="</div>",p+='<div class="'+L.meta+'">',p+='<div class="'+L.meta_content+'">',R.gallery.active&&(p+='<p class="'+L.position+'"',R.gallery.total<1&&(p+=' style="display: none;"'),p+=">",p+='<span class="'+L.position_current+'">'+(R.gallery.index+1)+"</span> ",p+=R.labels.count,p+=' <span class="'+L.position_total+'">'+(R.gallery.total+1)+"</span>",p+="</p>"),p+='<div class="'+L.caption+'">',p+=R.formatter.call(i,t),p+="</div></div></div>",p+="</div>"),p+="</div></div>",D.append(p),R.$overlay=w(E.overlay),R.$lightbox=w(E.base),R.$close=w(E.close),R.$container=w(E.container),R.$content=w(E.content),R.$tools=w(E.tools),R.$meta=w(E.meta),R.$metaContent=w(E.meta_content),R.$position=w(E.position),R.$caption=w(E.caption),R.$controlBox=w(E.controls),R.$controls=w(E.control),R.$thumbnails=w(E.thumbnails),R.$thumbnailContainer=w(E.thumbnail_container),R.$thumbnailItems=w(E.thumbnail_item),R.isMobile?(R.paddingVertical=R.$close.outerHeight(),R.paddingHorizontal=0,R.mobilePaddingVertical=parseInt(R.$content.css("paddingTop"),10)+parseInt(R.$content.css("paddingBottom"),10),R.mobilePaddingHorizontal=parseInt(R.$content.css("paddingLeft"),10)+parseInt(R.$content.css("paddingRight"),10)):(R.paddingVertical=parseInt(R.$lightbox.css("paddingTop"),10)+parseInt(R.$lightbox.css("paddingBottom"),10),R.paddingHorizontal=parseInt(R.$lightbox.css("paddingLeft"),10)+parseInt(R.$lightbox.css("paddingRight"),10),R.mobilePaddingVertical=0,R.mobilePaddingHorizontal=0),R.contentHeight=R.$lightbox.outerHeight()-R.paddingVertical,R.contentWidth=R.$lightbox.outerWidth()-R.paddingHorizontal,R.controlHeight=R.$controls.outerHeight(),function(){var e=x();R.$lightbox.css({top:R.fixed?0:e.top})}(),R.gallery.active&&(R.$lightbox.addClass(L.has_controls),M()),O.on(z.keyDown,I),D.on(z.click,[E.overlay,E.close].join(", "),$).on([z.focus,z.focusIn].join(" "),j),R.gallery.active&&R.$lightbox.on(z.click,E.control,T),R.thumbnails&&R.$lightbox.on(z.click,E.thumbnail_item,W),R.isMobile&&R.isTouch&&R.$lightbox.on(z.click,E.caption_toggle,C).on(z.click,E.thumbnail_toggle,_),R.$lightbox.fsTransition({property:"opacity"},function(){r?H(a):l?k(a):c?function(e){e+=-1<e.indexOf("?")?"&"+R.requestKey+"=true":"?"+R.requestKey+"=true",A(w('<iframe class="'+L.iframe+'" src="'+e+'"></iframe>'))}(a):d?function(e){R.$inlineTarget=w(e),R.$inlineContents=R.$inlineTarget.children().detach(),A(R.$inlineContents)}(a):u&&A(R.$object)}).addClass(L.open),R.$overlay.addClass(L.open)}}function e(e){"object"!=typeof e&&(R.targetHeight=e,R.targetWidth=arguments[1]),"element"===R.type?d(R.$content.find("> :first-child")):"image"===R.type?t():"video"===R.type&&r(),function(){if(R.visible&&!R.isMobile){var e=x();R.$controls.css({marginTop:(R.contentHeight-R.controlHeight-R.metaHeight+R.thumbnailHeight)/2}),R.$lightbox.css({height:R.contentHeight+R.paddingVertical,width:R.contentWidth+R.paddingHorizontal,top:R.fixed?0:e.top}),R.oldContentHeight=R.contentHeight,R.oldContentWidth=R.contentWidth}}()}function $(e){q.killEvent(e),R&&(R.$lightbox.fsTransition("destroy"),R.$content.fsTransition("destroy"),R.$lightbox.addClass(L.animating).fsTransition({property:"opacity"},function(e){void 0!==R.$inlineTarget&&R.$inlineTarget.length&&R.$inlineTarget.append(R.$inlineContents.detach()),R.isViewer&&R.$imageContainer&&R.$imageContainer.length&&R.$imageContainer.fsViewer("destroy"),R.$lightbox.off(z.namespace),R.$container.off(z.namespace),O.off(z.keyDown),D.off(z.namespace),D.off(z.namespace),R.$overlay.remove(),R.$lightbox.remove(),void 0!==R.$el&&R.$el&&R.$el.length&&R.$el.focus(),R=null,O.trigger(z.close)}),R.$lightbox.removeClass(L.open),R.$overlay.removeClass(L.open),R.isMobile&&(m.removeClass(L.lock),q.unlockViewport(S)))}function a(){var e=x();R.isMobile||R.duration,R.isMobile?q.lockViewport(S):R.$controls.css({marginTop:(R.contentHeight-R.controlHeight-R.metaHeight+R.thumbnailHeight)/2}),""===R.$caption.html()?(R.$caption.hide(),R.$lightbox.removeClass(L.has_caption),R.gallery.active||R.$tools.hide()):(R.$caption.show(),R.$lightbox.addClass(L.has_caption)),R.$lightbox.fsTransition({property:R.contentHeight!==R.oldContentHeight?"height":"width"},function(){R.$content.fsTransition({property:"opacity"},function(){R.$lightbox.removeClass(L.animating),R.isAnimating=!1}),R.$lightbox.removeClass(L.loading).addClass(L.ready),R.visible=!0,O.trigger(z.open),R.gallery.active&&(function(){var e="";0<R.gallery.index&&(P(e=R.gallery.$items.eq(R.gallery.index-1).attr("href"))||w('<img src="'+e+'">')),R.gallery.index<R.gallery.total&&(P(e=R.gallery.$items.eq(R.gallery.index+1).attr("href"))||w('<img src="'+e+'">'))}(),l(),function(){if(R.thumbnails){var e=R.$thumbnailItems.eq(R.gallery.index),t=e.position().left+e.outerWidth(!1)/2-R.$thumbnailContainer.outerWidth(!0)/2;R.$thumbnailContainer.stop().animate({scrollLeft:t},200,"linear")}}()),R.$lightbox.focus()}),R.isMobile||R.$lightbox.css({height:R.contentHeight+R.paddingVertical,width:R.contentWidth+R.paddingHorizontal,top:R.fixed?0:e.top});var t=R.oldContentHeight!==R.contentHeight||R.oldContentWidth!==R.contentWidth;!R.isMobile&&t||R.$lightbox.fsTransition("resolve"),R.oldContentHeight=R.contentHeight,R.oldContentWidth=R.contentWidth,R.isMobile&&m.addClass(L.lock)}function x(){if(R.isMobile)return{left:0,top:0};var e={left:(y.windowWidth-R.contentWidth-R.paddingHorizontal)/2,top:R.top<=0?(y.windowHeight-R.contentHeight-R.paddingVertical)/2:R.top};return!0!==R.fixed&&(e.top+=O.scrollTop()),e}function C(e){if(q.killEvent(e),R.captionOpen)n();else{o();var t=parseInt(R.$metaContent.outerHeight(!0));t+=parseInt(R.$meta.css("padding-top")),t+=parseInt(R.$meta.css("padding-bottom")),R.$meta.css({height:t}),R.$lightbox.addClass(L.caption_open).find(E.caption_toggle).text(R.labels.captionOpen),R.captionOpen=!0}}function n(){R.$lightbox.removeClass(L.caption_open).find(E.caption_toggle).text(R.labels.captionClosed),R.captionOpen=!1}function _(e){q.killEvent(e),R.thumbnailsOpen?o():(n(),R.$lightbox.addClass(L.thumbnails_open).find(E.thumbnail_toggle).text(R.labels.thumbnailsOpen),R.thumbnailsOpen=!0)}function o(){R.$lightbox.removeClass(L.thumbnails_open).find(E.thumbnail_toggle).text(R.labels.thumbnailsClosed),R.thumbnailsOpen=!1}function H(e){R.isViewer?(R.$imageContainer=w('<div class="'+L.image_container+'"><img></div>'),R.$image=R.$imageContainer.find("img"),R.$image.attr("src",e).addClass(L.image),R.$content.prepend(R.$imageContainer),t(),R.$imageContainer.one("loaded.viewer",function(){a()}).fsViewer({theme:R.theme})):(R.$imageContainer=w('<div class="'+L.image_container+'"><img></div>'),R.$image=R.$imageContainer.find("img"),R.$image.one(z.load,function(){var e=function(e){var t=e[0],i=new Image;return void 0!==t.naturalHeight?{naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth}:"img"===t.tagName.toLowerCase()&&(i.src=t.src,{naturalHeight:i.height,naturalWidth:i.width})}(R.$image);R.naturalHeight=e.naturalHeight,R.naturalWidth=e.naturalWidth,R.retina&&(R.naturalHeight/=2,R.naturalWidth/=2),R.$content.prepend(R.$imageContainer),t(),a()}).on(z.error,u).attr("src",e).addClass(L.image),!R.$image[0].complete&&4!==R.$image[0].readyState||R.$image.trigger(z.load))}function t(){if(R.$image){var e=0;for(R.windowHeight=R.viewportHeight=y.windowHeight-R.mobilePaddingVertical-R.paddingVertical,R.windowWidth=R.viewportWidth=y.windowWidth-R.mobilePaddingHorizontal-R.paddingHorizontal,R.contentHeight=1/0,R.contentWidth=1/0,R.imageMarginTop=0,R.imageMarginLeft=0;R.contentHeight>R.viewportHeight&&e<2;)R.imageHeight=0===e?R.naturalHeight:R.$image.outerHeight(),R.imageWidth=0===e?R.naturalWidth:R.$image.outerWidth(),R.metaHeight=0===e?0:R.metaHeight,R.spacerHeight=0===e?0:R.spacerHeight,R.thumbnailHeight=0===e?0:R.thumbnailHeight,0===e&&(R.ratioHorizontal=R.imageHeight/R.imageWidth,R.ratioVertical=R.imageWidth/R.imageHeight,R.isWide=R.imageWidth>R.imageHeight),R.imageHeight<R.minHeight&&(R.minHeight=R.imageHeight),R.imageWidth<R.minWidth&&(R.minWidth=R.imageWidth),R.isMobile?(R.isTouch?(R.$controlBox.css({width:y.windowWidth}),R.spacerHeight=R.$controls.outerHeight(!0)):(R.$tools.css({width:y.windowWidth}),R.spacerHeight=R.$tools.outerHeight(!0)),R.contentHeight=R.viewportHeight,R.contentWidth=R.viewportWidth,R.isTouch||R.$content.css({height:R.contentHeight-R.spacerHeight}),R.$thumbnails.length&&(R.spacerHeight+=R.$thumbnails.outerHeight(!0)),R.spacerHeight+=10,s(),R.imageMarginTop=(R.contentHeight-R.targetImageHeight-R.spacerHeight)/2,R.imageMarginLeft=(R.contentWidth-R.targetImageWidth)/2):(0===e&&(R.viewportHeight-=R.margin+R.paddingVertical,R.viewportWidth-=R.margin+R.paddingHorizontal),R.viewportHeight-=R.metaHeight,R.thumbnails&&(R.viewportHeight-=R.thumbnailHeight),s(),R.contentHeight=R.targetImageHeight,R.contentWidth=R.targetImageWidth),R.isMobile||R.isTouch||R.$meta.css({width:R.contentWidth}),R.$image.css({height:R.targetImageHeight,width:R.targetImageWidth,marginTop:R.imageMarginTop,marginLeft:R.imageMarginLeft}),R.isMobile||(R.metaHeight=R.$meta.outerHeight(!0),R.contentHeight+=R.metaHeight),R.thumbnails&&(R.thumbnailHeight=R.$thumbnails.outerHeight(!0),R.contentHeight+=R.thumbnailHeight),e++}}function s(){var e=R.isMobile?R.contentHeight-R.spacerHeight:R.viewportHeight,t=R.isMobile?R.contentWidth:R.viewportWidth;R.isWide?(R.targetImageWidth=t,R.targetImageHeight=R.targetImageWidth*R.ratioHorizontal,R.targetImageHeight>e&&(R.targetImageHeight=e,R.targetImageWidth=R.targetImageHeight*R.ratioVertical)):(R.targetImageHeight=e,R.targetImageWidth=R.targetImageHeight*R.ratioVertical,R.targetImageWidth>t&&(R.targetImageWidth=t,R.targetImageHeight=R.targetImageWidth*R.ratioHorizontal)),(R.targetImageWidth>R.imageWidth||R.targetImageHeight>R.imageHeight)&&(R.targetImageHeight=R.imageHeight,R.targetImageWidth=R.imageWidth),(R.targetImageWidth<R.minWidth||R.targetImageHeight<R.minHeight)&&(R.targetImageWidth<R.minWidth?(R.targetImageWidth=R.minWidth,R.targetImageHeight=R.targetImageWidth*R.ratioHorizontal):(R.targetImageHeight=R.minHeight,R.targetImageWidth=R.targetImageHeight*R.ratioVertical))}function k(e){var t=P(e),i=e.split("?"),n="&origin="+encodeURIComponent(window.location.protocol+"//"+window.location.hostname);t?(2<=i.length&&(t+="?"+i.slice(1)[0].trim()),R.$videoWrapper=w('<div class="'+L.video_wrapper+'"></div>'),R.$video=w('<iframe class="'+L.video+'" frameborder="0" seamless="seamless" allowfullscreen></iframe>'),R.$video.attr("src",t+"&enablejsapi=1"+n).addClass(L.video).prependTo(R.$videoWrapper),R.$content.prepend(R.$videoWrapper),r(),a()):u()}function r(){R.windowHeight=R.viewportHeight=y.windowHeight-R.mobilePaddingVertical-R.paddingVertical,R.windowWidth=R.viewportWidth=y.windowWidth-R.mobilePaddingHorizontal-R.paddingHorizontal,R.videoMarginTop=0,R.videoMarginLeft=0,R.isMobile?(R.isTouch?(R.$controlBox.css({width:y.windowWidth}),R.spacerHeight=R.$controls.outerHeight(!0)+10):(R.$tools.css({width:y.windowWidth}),R.spacerHeight=R.$tools.outerHeight(!0),R.spacerHeight+=R.$thumbnails.outerHeight(!0)+10),R.viewportHeight-=R.spacerHeight,R.targetVideoWidth=R.viewportWidth,R.targetVideoHeight=R.targetVideoWidth*R.videoRatio,R.targetVideoHeight>R.viewportHeight&&(R.targetVideoHeight=R.viewportHeight,R.targetVideoWidth=R.targetVideoHeight/R.videoRatio),R.videoMarginTop=(R.viewportHeight-R.targetVideoHeight)/2,R.videoMarginLeft=(R.viewportWidth-R.targetVideoWidth)/2):(R.viewportHeight=R.windowHeight-R.margin,R.viewportWidth=R.windowWidth-R.margin,R.targetVideoWidth=R.videoWidth>R.viewportWidth?R.viewportWidth:R.videoWidth,R.targetVideoWidth<R.minWidth&&(R.targetVideoWidth=R.minWidth),R.targetVideoHeight=R.targetVideoWidth*R.videoRatio,R.contentHeight=R.targetVideoHeight,R.contentWidth=R.targetVideoWidth),R.isMobile||R.isTouch||R.$meta.css({width:R.contentWidth}),R.$videoWrapper.css({height:R.targetVideoHeight,width:R.targetVideoWidth,marginTop:R.videoMarginTop,marginLeft:R.videoMarginLeft}),R.isMobile||(R.metaHeight=R.$meta.outerHeight(!0),R.contentHeight+=R.metaHeight),R.thumbnails&&(R.thumbnailHeight=R.$thumbnails.outerHeight(!0),R.contentHeight+=R.thumbnailHeight)}function T(e){q.killEvent(e);var t=w(e.currentTarget);R.isAnimating||t.hasClass(L.control_disabled)||(R.isAnimating=!0,n(),R.gallery.index+=t.hasClass(L.control_next)?1:-1,R.gallery.index>R.gallery.total&&(R.gallery.index=R.infinite?0:R.gallery.total),R.gallery.index<0&&(R.gallery.index=R.infinite?R.gallery.total:0),l(),R.$lightbox.addClass(L.animating),R.$content.fsTransition({property:"opacity"},c),R.$lightbox.addClass(L.loading))}function W(e){q.killEvent(e);var t=w(e.currentTarget);R.isAnimating||t.hasClass(L.active)||(R.isAnimating=!0,n(),R.gallery.index=R.$thumbnailItems.index(t),l(),R.$lightbox.addClass(L.animating),R.$content.fsTransition({property:"opacity"},c),R.$lightbox.addClass(L.loading))}function l(){if(R.thumbnails){var e=R.$thumbnailItems.eq(R.gallery.index);R.$thumbnailItems.removeClass(L.active),e.addClass(L.active)}}function c(){void 0!==R.$imageContainer&&(R.isViewer&&R.$imageContainer.fsViewer("destroy"),R.$imageContainer.remove()),void 0!==R.$videoWrapper&&R.$videoWrapper.remove(),R.$el=R.gallery.$items.eq(R.gallery.index),R.$caption.html(R.formatter.call(R.$el,R)),R.$position.find(E.position_current).html(R.gallery.index+1);var e=R.$el.attr("href");P(e)?(R.type="video",k(e)):(R.type="image",H(e)),M()}function M(){R.$controls.removeClass(L.control_disabled),R.infinite||(0===R.gallery.index&&R.$controls.filter(E.control_previous).addClass(L.control_disabled),R.gallery.index===R.gallery.total&&R.$controls.filter(E.control_next).addClass(L.control_disabled))}function I(e){!R.gallery.active||37!==e.keyCode&&39!==e.keyCode?27===e.keyCode&&R.$close.trigger(z.click):(q.killEvent(e),R.$controls.filter(37===e.keyCode?E.control_previous:E.control_next).trigger(z.click))}function A(e){R.$content.append(e),d(e),a()}function d(e){R.windowHeight=y.windowHeight-R.mobilePaddingVertical-R.paddingVertical,R.windowWidth=y.windowWidth-R.mobilePaddingHorizontal-R.paddingHorizontal,R.objectHeight=e.outerHeight(!0),R.objectWidth=e.outerWidth(!0),R.targetHeight=R.targetHeight||(R.$el?R.$el.data(S+"-height"):null),R.targetWidth=R.targetWidth||(R.$el?R.$el.data(S+"-width"):null),R.maxHeight=R.windowHeight<0?R.minHeight:R.windowHeight,R.isIframe=e.is("iframe"),R.objectMarginTop=0,R.objectMarginLeft=0,R.isMobile||(R.windowHeight-=R.margin,R.windowWidth-=R.margin),R.contentHeight=R.targetHeight?R.targetHeight:R.isIframe||R.isMobile?R.windowHeight:R.objectHeight,R.contentWidth=R.targetWidth?R.targetWidth:R.isIframe||R.isMobile?R.windowWidth:R.objectWidth,(R.isIframe||R.isObject)&&R.isMobile?(R.contentHeight=R.windowHeight,R.contentWidth=R.windowWidth):R.isObject&&(R.contentHeight=R.contentHeight>R.windowHeight?R.windowHeight:R.contentHeight,R.contentWidth=R.contentWidth>R.windowWidth?R.windowWidth:R.contentWidth),R.isMobile||(R.contentHeight>R.maxHeight&&(R.contentHeight=R.maxHeight),R.contentWidth>R.maxWidth&&(R.contentWidth=R.maxWidth))}function u(){var e=w('<div class="'+L.error+'"><p>Error Loading Resource</p></div>');R.type="element",R.$tools.remove(),R.$image.off(z.namespace),A(e),O.trigger(z.error)}function P(e){var t,i=R.videoFormatter;for(var n in i)if(i.hasOwnProperty(n)&&null!==(t=e.match(i[n].pattern)))return i[n].format.call(R,t);return!1}function j(e){var t=e.target;w.contains(R.$lightbox[0],t)||t===R.$lightbox[0]||t===R.$overlay[0]||(q.killEvent(e),R.$lightbox.focus())}var h=y.Plugin("lightbox",{widget:!0,defaults:{customClass:"",fileTypes:/\.(jpg|sjpg|jpeg|png|gif)/i,fixed:!1,formatter:function(){var e=this.attr("title"),t=!(void 0===e||!e)&&e.replace(/^\s+|\s+$/g,"");return t?'<p class="caption">'+t+"</p>":""},infinite:!1,labels:{close:"Close",count:"of",next:"Next",previous:"Previous",captionClosed:"View Caption",captionOpen:"Close Caption",thumbnailsClosed:"View Thumbnails",thumbnailsOpen:"Close Thumbnails",lightbox:"Lightbox {guid}"},margin:50,maxHeight:1e4,maxWidth:1e4,minHeight:100,minWidth:100,mobile:!1,overlay:!1,retina:!1,requestKey:"fs-lightbox",theme:"fs-light",thumbnails:!1,top:0,videoFormatter:{youtube:{pattern:/(?:youtube\.com\/(?:[^\/]+\/.+\/|(?:v|e(?:mbed)?)\/|.*[?&]v=)|youtu\.be\/)([^"&?\/ ]{11})/,format:function(e){return"//www.youtube.com/embed/"+e[1]}},vimeo:{pattern:/(?:www\.|player\.)?vimeo.com\/(?:channels\/(?:\w+\/)?|groups\/([^\/]*)\/videos\/|album\/(\d+)\/video\/|video\/|)(\d+)(?:$|\/|\?)/,format:function(e){return"//player.vimeo.com/video/"+e[3]}}},videoRatio:.5625,videoWidth:800,viewer:!0},classes:["loading","animating","fixed","mobile","touch","inline","iframed","open","ready","overlay","close","loading_icon","container","content","image","image_container","video","video_wrapper","tools","meta","meta_content","controls","control","control_previous","control_next","control_disabled","position","position_current","position_total","toggle","caption_toggle","caption","caption_open","thumbnailed","thumbnails_open","thumbnail_toggle","thumbnails","thumbnail_container","thumbnail_item","active","has_controls","has_caption","iframe","error","active","lock"],events:{open:"open",close:"close"},methods:{_construct:function(e){this.on(z.click,e,i);var t=this.data(S+"-gallery");!v&&f&&t===f&&(v=!0,this.trigger(z.click))},_destruct:function(e){$(),this.off(z.namespace)},_resize:function(){R&&e()},resize:e},utilities:{_initialize:function(e,t){e instanceof w&&i.apply(g,[{data:w.extend(!0,{},{$object:e},p,t||{})}])},close:$}}),S=h.namespace,p=h.defaults,E=h.classes,L=E.raw,z=h.events,q=h.functions,g=y.window,O=y.$window,D=null,m=null,f=!1,v=!1,R=null;y.Ready(function(){D=y.$body,m=w("html, body"),f=y.window.location.hash.replace("#","")})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery","./swap"],e):e(jQuery,Formstone)}(function(o,e){"use strict";function i(e){e.$handle.fsSwap("deactivate")}function s(e){e.data.$handle.addClass(m.focus)}function r(e){e.data.$handle.removeClass(m.focus)}function l(e){var t=e.data;13!==e.keyCode&&32!==e.keyCode||(v.killEvent(e),t.$handle.trigger(f.raw.click))}function c(e){if(!e.originalEvent){var t=e.data;t.open||(t.$el.trigger(f.open).attr("aria-hidden",!1),t.$content.addClass(t.contentClassesOpen).one(f.click,function(){i(t)}),t.$handle.attr("aria-expanded",!0),t.label&&t.$handle.html(t.labels.open),function(e){e.isToggle||b.addClass(m.lock)}(t),t.open=!0,t.$nav.focus())}}function d(e){if(!e.originalEvent){var t=e.data;t.open&&(t.$el.trigger(f.close).attr("aria-hidden",!0),t.$content.removeClass(t.contentClassesOpen).off(f.namespace),t.$handle.attr("aria-expanded",!1),t.label&&t.$handle.html(t.labels.closed),n(t),t.open=!1,t.$el.focus())}}function u(e){var t=e.data;t.$el.attr("aria-hidden",!0),t.$handle.attr("aria-controls",t.ariaId).attr("aria-expanded",!1),t.$content.addClass(m.enabled),setTimeout(function(){t.$animate.addClass(m.animated)},0),t.label&&t.$handle.html(t.labels.closed)}function h(e){var t=e.data;t.$el.removeAttr("aria-hidden"),t.$handle.removeAttr("aria-controls").removeAttr("aria-expanded"),t.$content.removeClass(m.enabled,m.animated),t.$animate.removeClass(m.animated),a(t),n(t)}function n(e){e.isToggle||b.removeClass(m.lock)}function a(e){if(e.label)if(1<e.$handle.length)for(var t=0,i=e.$handle.length;t<i;t++)e.$handle.eq(t).html(e.originalLabel[t]);else e.$handle.html(e.originalLabel)}var t=e.Plugin("navigation",{widget:!0,defaults:{customClass:"",gravity:"left",label:!0,labels:{closed:"Menu",open:"Close"},maxWidth:"980px",theme:"fs-light",type:"toggle"},classes:["handle","nav","content","animated","enabled","focus","open","toggle","push","reveal","overlay","left","right","lock"],events:{open:"open",close:"close"},methods:{_construct:function(e){e.handleGuid=m.handle+e.guid,e.isToggle="toggle"===e.type,e.open=!1,e.isToggle&&(e.gravity="");var t=m.base,i=[t,e.type].join("-"),n=e.gravity?[i,e.gravity].join("-"):"",a=[e.rawGuid,e.theme,e.customClass].join(" ");e.handle=this.data(p+"-handle"),e.content=this.data(p+"-content"),e.handleClasses=[m.handle,m.handle.replace(t,i),n?m.handle.replace(t,n):"",e.handleGuid,a].join(" "),e.thisClasses=[m.nav.replace(t,i),n?m.nav.replace(t,n):"",a],e.contentClasses=[m.content.replace(t,i),a].join(" "),e.contentClassesOpen=[n?m.content.replace(t,n):"",m.open].join(" "),e.$nav=this.addClass(e.thisClasses.join(" ")).attr("role","navigation"),e.$handle=o(e.handle).addClass(e.handleClasses),e.$content=o(e.content).addClass(e.contentClasses),e.$animate=o().add(e.$nav).add(e.$content),function(e){if(e.label)if(1<e.$handle.length){e.originalLabel=[];for(var t=0,i=e.$handle.length;t<i;t++)e.originalLabel[t]=e.$handle.eq(t).html()}else e.originalLabel=e.$handle.html()}(e),e.navTabIndex=e.$nav.attr("tabindex"),e.$nav.attr("tabindex",-1),e.id=this.attr("id"),e.id?e.ariaId=e.id:(e.ariaId=e.rawGuid,this.attr("id",e.ariaId)),e.$handle.attr("data-swap-target",e.dotGuid).attr("data-swap-linked",e.handleGuid).attr("data-swap-group",m.base).attr("tabindex",0).on("activate.swap"+e.dotGuid,e,c).on("deactivate.swap"+e.dotGuid,e,d).on("enable.swap"+e.dotGuid,e,u).on("disable.swap"+e.dotGuid,e,h).on(f.focus+e.dotGuid,e,s).on(f.blur+e.dotGuid,e,r).fsSwap({maxWidth:e.maxWidth,classes:{target:e.dotGuid,enabled:g.enabled,active:g.open,raw:{target:e.rawGuid,enabled:m.enabled,active:m.open}}}),e.$handle.is("a, button")||e.$handle.on(f.keyPress+e.dotGuid,e,l)},_destruct:function(e){e.$content.removeClass([e.contentClasses,e.contentClassesOpen].join(" ")).off(f.namespace),e.$handle.removeAttr("aria-controls").removeAttr("aria-expanded").removeAttr("data-swap-target").removeData("swap-target").removeAttr("data-swap-linked").removeAttr("data-swap-group").removeData("swap-linked").removeData("tabindex").removeClass(e.handleClasses).off(e.dotGuid).html(e.originalLabel).fsSwap("destroy"),e.$nav.attr("tabindex",e.navTabIndex),a(e),n(e),this.removeAttr("aria-hidden").removeClass(e.thisClasses.join(" ")).off(f.namespace),this.attr("id")===e.rawGuid&&this.removeAttr("id")},open:function(e){e.$handle.fsSwap("activate")},close:i,enable:function(e){e.$handle.fsSwap("enable")},disable:function(e){e.$handle.fsSwap("disable")}}}),p=t.namespace,g=t.classes,m=g.raw,f=t.events,v=t.functions,b=null;e.Ready(function(){b=o("html, body")})}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(a,e){"use strict";function n(e){h.killEvent(e);var t=e.data,i=t.index+(a(e.currentTarget).hasClass(d.control_previous)?-1:1);0<=i&&t.$items.eq(i).trigger(u.raw.click)}function o(e){h.killEvent(e);var t=e.data,i=a(e.currentTarget),n=parseInt(i.val(),10);t.$items.eq(n).trigger(u.raw.click)}function s(e){var t=e.data,i=a(e.currentTarget),n=t.$items.index(i);t.ajax?h.killEvent(e):i[0].click(),r(t,n)}function r(e,t){if(t<0&&(t=0),t>e.total&&(t=e.total),t!==e.index){e.index=t;var i=e.index-e.visible,n=e.index+(e.visible+1);i<0&&(i=0),n>e.total&&(n=e.total),e.$items.removeClass(d.visible).removeClass(d.hidden).filter(c.active).removeClass(d.active).end().eq(e.index).addClass(d.active).end().slice(i,n).addClass(d.visible),e.$items.not(c.visible).addClass(d.hidden),e.$position.find(c.current).text(e.index+1).end().find(c.total).text(e.total+1),e.$select.val(e.index),e.$controls.removeClass(d.visible),0<t&&e.$controls.filter(c.control_previous).addClass(d.visible),t<e.total&&e.$controls.filter(c.control_next).addClass(d.visible),e.$ellipsis.removeClass(d.visible),t>e.visible+1&&e.$ellipsis.eq(0).addClass(d.visible),t<e.total-e.visible-1&&e.$ellipsis.eq(1).addClass(d.visible),e.$el.trigger(u.update,[e.index])}}var l=e.Plugin("pagination",{widget:!0,defaults:{ajax:!1,customClass:"",labels:{count:"of",next:"Next",previous:"Previous",select:"Select Page",pagination:"Pagination {guid}"},maxWidth:"740px",theme:"fs-light",visible:2},classes:["pages","page","active","first","last","ellipsis","visible","hidden","control","control_previous","control_next","position","select","mobile","current","total"],events:{update:"update"},methods:{_construct:function(e){e.mq="(max-width:"+(e.maxWidth===1/0?"100000px":e.maxWidth)+")";var t="";t+='<button type="button" class="'+[d.control,d.control_previous].join(" ")+'">'+e.labels.previous+"</button>",t+='<button type="button" class="'+[d.control,d.control_next].join(" ")+'">'+e.labels.next+"</button>",t+='<div class="'+d.position+'" aria-hidden="true">',t+='<span class="'+d.current+'">0</span>',t+=" "+e.labels.count+" ",t+='<span class="'+d.total+'">0</span>',t+='<select class="'+d.select+'" title="'+e.labels.select+'" tabindex="-1" aria-hidden="true"></select>',t+="</div>",e.thisClasses=[d.base,e.theme,e.customClass],e.labels.pagination=e.labels.pagination.replace("{guid}",e.numGuid),this.addClass(e.thisClasses.join(" ")).wrapInner('<div class="'+d.pages+'" aria-label="'+e.labels.pagination+'"></div>').prepend(t),e.$controls=this.find(c.control),e.$pages=this.find(c.pages),e.$items=e.$pages.children().addClass(d.page),e.$position=this.find(c.position),e.$select=this.find(c.select),e.index=-1,e.total=e.$items.length-1;var i=e.$items.index(e.$items.filter("[data-"+l.namespace+"-active]"));i<0&&(i=e.$items.index(e.$items.filter(c.active))),e.$items.eq(0).addClass(d.first).after('<span class="'+d.ellipsis+'">&hellip;</span>').end().eq(e.total).addClass(d.last).before('<span class="'+d.ellipsis+'">&hellip;</span>'),e.$ellipsis=e.$pages.find(c.ellipsis),function(e){for(var t="",i=0;i<=e.total;i++)t+='<option value="'+i+'"',i===e.index&&(t+='selected="selected"'),t+=">Page "+(i+1)+"</option>";e.$select.html(t)}(e),this.on(u.click,c.page,e,s).on(u.click,c.control,e,n).on(u.change,c.select,e,o),a.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){e.$el.addClass(d.mobile)},leave:function(){e.$el.removeClass(d.mobile)}}),r(e,i)},_destruct:function(e){a.fsMediaquery("unbind",e.rawGuid),e.$controls.remove(),e.$ellipsis.remove(),e.$select.remove(),e.$position.remove(),e.$items.removeClass([d.page,d.active,d.visible,d.first,d.last].join(" ")).unwrap(),this.removeClass(e.thisClasses.join(" ")).off(u.namespace)}}}),c=l.classes,d=c.raw,u=l.events,h=l.functions}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./mediaquery"],e):e(jQuery,Formstone)}(function(n,e){"use strict";function i(e,t){if(e.enabled&&!e.active){e.group&&!t&&n(e.group).not(e.$el).not(e.linked)[r.namespaceClean]("deactivate",!0);var i=e.group?n(e.group).index(e.$el):null;e.$swaps.addClass(e.classes.raw.active),t||e.linked&&n(e.linked).not(e.$el)[r.namespaceClean]("activate",!0),this.trigger(d.activate,[i]),e.active=!0}}function a(e,t){e.enabled&&e.active&&(e.$swaps.removeClass(e.classes.raw.active),t||e.linked&&n(e.linked).not(e.$el)[r.namespaceClean]("deactivate",!0),this.trigger(d.deactivate),e.active=!1)}function t(e,t){e.enabled||(e.enabled=!0,e.$swaps.addClass(e.classes.raw.enabled),t||n(e.linked).not(e.$el)[r.namespaceClean]("enable"),this.trigger(d.enable),e.onEnable?(e.active=!1,i.call(this,e)):(e.active=!0,a.call(this,e)))}function o(e,t){e.enabled&&(e.enabled=!1,e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")),t||n(e.linked).not(e.$el)[r.namespaceClean]("disable"),this.trigger(d.disable))}function s(e){u.killEvent(e);var t=e.data;t.active&&t.collapse?a.call(t.$el,t):i.call(t.$el,t)}var r=e.Plugin("swap",{widget:!0,defaults:{collapse:!0,maxWidth:1/0},classes:["target","enabled","active"],events:{activate:"activate",deactivate:"deactivate",enable:"enable",disable:"disable"},methods:{_construct:function(e){e.enabled=!1,e.active=!1,e.classes=n.extend(!0,{},c,e.classes),e.target=this.data(l+"-target"),e.$target=n(e.target).addClass(e.classes.raw.target),e.mq="(max-width:"+(e.maxWidth===1/0?"100000px":e.maxWidth)+")";var t=this.data(l+"-linked");e.linked=!!t&&"[data-"+l+'-linked="'+t+'"]';var i=this.data(l+"-group");e.group=!!i&&"[data-"+l+'-group="'+i+'"]',e.$swaps=n().add(this).add(e.$target),this.on(d.click+e.dotGuid,e,s)},_postConstruct:function(e){e.collapse||!e.group||n(e.group).filter("[data-"+l+"-active]").length||n(e.group).eq(0).attr("data-"+l+"-active","true"),e.onEnable=this.data(l+"-active")||!1,n.fsMediaquery("bind",e.rawGuid,e.mq,{enter:function(){t.call(e.$el,e,!0)},leave:function(){o.call(e.$el,e,!0)}})},_destruct:function(e){n.fsMediaquery("unbind",e.rawGuid),e.$swaps.removeClass([e.classes.raw.enabled,e.classes.raw.active].join(" ")).off(d.namespace)},activate:i,deactivate:a,enable:t,disable:o}}),l=r.namespace,c=r.classes,d=r.events,u=r.functions}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(f,o){"use strict";function s(e){e.preventManipulation&&e.preventManipulation();var t=e.data,i=e.originalEvent;if(i.type.match(/(up|end|cancel)$/i))g(e);else{if(i.pointerId){var n=!1;for(var a in t.touches)t.touches[a].id===i.pointerId&&(n=!0,t.touches[a].pageX=i.pageX,t.touches[a].pageY=i.pageY);n||t.touches.push({id:i.pointerId,pageX:i.pageX,pageY:i.pageY})}else t.touches=i.touches;i.type.match(/(down|start)$/i)?v(e):i.type.match(/move$/i)&&r(e)}}function v(e){var t=e.data,i="undefined"!==f.type(t.touches)&&t.touches.length?t.touches[0]:null;i&&t.$el.off($.mouseDown),t.touching||(t.startE=e.originalEvent,t.startX=i?i.pageX:e.pageX,t.startY=i?i.pageY:e.pageY,t.startT=(new Date).getTime(),t.scaleD=1,t.passedAxis=!1),t.$links&&t.$links.off($.click);var n=w(t.scale?$.scaleStart:$.panStart,e,t.startX,t.startY,t.scaleD,0,0,"","");if(t.scale&&t.touches&&2<=t.touches.length){var a=t.touches;t.pinch={startX:m(a[0].pageX,a[1].pageX),startY:m(a[0].pageY,a[1].pageY),startD:y(a[1].pageX-a[0].pageX,a[1].pageY-a[0].pageY)},n.pageX=t.startX=t.pinch.startX,n.pageY=t.startY=t.pinch.startY}t.touching||(t.touching=!0,t.pan&&!i&&C.on($.mouseMove,t,r).on($.mouseUp,t,g),o.support.pointer?C.on([$.pointerMove,$.pointerUp,$.pointerCancel].join(" "),t,s):C.on([$.touchMove,$.touchEnd,$.touchCancel].join(" "),t,s),t.$el.trigger(n))}function r(e){var t=e.data,i="undefined"!==f.type(t.touches)&&t.touches.length?t.touches[0]:null,n=i?i.pageX:e.pageX,a=i?i.pageY:e.pageY,o=n-t.startX,s=a-t.startY,r=0<o?"right":"left",l=0<s?"down":"up",c=Math.abs(o)>t.threshold,d=Math.abs(s)>t.threshold;if(!t.passedAxis&&t.axis&&(t.axisX&&d||t.axisY&&c))g(e);else{!t.passedAxis&&(!t.axis||t.axis&&t.axisX&&c||t.axisY&&d)&&(t.passedAxis=!0),t.passedAxis&&(x.killEvent(e),x.killEvent(t.startE));var u=!0,h=w(t.scale?$.scale:$.pan,e,n,a,t.scaleD,o,s,r,l);if(t.scale)if(t.touches&&2<=t.touches.length){var p=t.touches;t.pinch.endX=m(p[0].pageX,p[1].pageX),t.pinch.endY=m(p[0].pageY,p[1].pageY),t.pinch.endD=y(p[1].pageX-p[0].pageX,p[1].pageY-p[0].pageY),t.scaleD=t.pinch.endD/t.pinch.startD,h.pageX=t.pinch.endX,h.pageY=t.pinch.endY,h.scale=t.scaleD,h.deltaX=t.pinch.endX-t.pinch.startX,h.deltaY=t.pinch.endY-t.pinch.startY}else t.pan||(u=!1);u&&t.$el.trigger(h)}}function g(e){var t=e.data,i="undefined"!==f.type(t.touches)&&t.touches.length?t.touches[0]:null,n=i?i.pageX:e.pageX,a=i?i.pageY:e.pageY,o=n-t.startX,s=a-t.startY,r=(new Date).getTime(),l=t.scale?$.scaleEnd:$.panEnd,c=0<o?"right":"left",d=0<s?"down":"up",u=1<Math.abs(o),h=1<Math.abs(s);if(t.swipe&&r-t.startT<t.time&&Math.abs(o)>t.threshold&&(l=$.swipe),t.axis&&(t.axisX&&h||t.axisY&&u)||u||h){t.$links=t.$el.find("a");for(var p=0,g=t.$links.length;p<g;p++)b(t.$links.eq(p),t)}var m=w(l,e,n,a,t.scaleD,o,s,c,d);C.off([$.touchMove,$.touchEnd,$.touchCancel,$.mouseMove,$.mouseUp,$.pointerMove,$.pointerUp,$.pointerCancel].join(" ")),t.$el.trigger(m),t.touches=[],t.scale,i&&(t.touchTimer=x.startTimer(t.touchTimer,5,function(){t.$el.on($.mouseDown,t,v)})),t.touching=!1}function b(e,t){e.on($.click,t,n);var i=f._data(e[0],"events").click;i.unshift(i.pop())}function n(e){x.killEvent(e,!0),e.data.$links.off($.click)}function w(e,t,i,n,a,o,s,r,l){return f.Event(e,{originalEvent:t,bubbles:!0,pageX:i,pageY:n,scale:a,deltaX:o,deltaY:s,directionX:r,directionY:l})}function m(e,t){return(e+t)/2}function y(e,t){return Math.sqrt(e*e+t*t)}function i(e,t){e.css({"-ms-touch-action":t,"touch-action":t})}var e=!o.window.PointerEvent,t=o.Plugin("touch",{widget:!0,defaults:{axis:!1,pan:!1,scale:!1,swipe:!1,threshold:10,time:50},methods:{_construct:function(e){if(e.touches=[],e.touching=!1,this.on($.dragStart,x.killEvent),e.swipe&&(e.pan=!0),e.scale&&(e.axis=!1),e.axisX="x"===e.axis,e.axisY="y"===e.axis,o.support.pointer){var t="";!e.axis||e.axisX&&e.axisY?t="none":(e.axisX&&(t+=" pan-y"),e.axisY&&(t+=" pan-x")),i(this,t),this.on($.pointerDown,e,s)}else this.on($.touchStart,e,s).on($.mouseDown,e,v)},_destruct:function(e){this.off($.namespace),i(this,"")}},events:{pointerDown:e?"MSPointerDown":"pointerdown",pointerUp:e?"MSPointerUp":"pointerup",pointerMove:e?"MSPointerMove":"pointermove",pointerCancel:e?"MSPointerCancel":"pointercancel"}}),$=t.events,x=t.functions,C=o.$window;$.pan="pan",$.panStart="panstart",$.panEnd="panend",$.scale="scale",$.scaleStart="scalestart",$.scaleEnd="scaleend",$.swipe="swipe"}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core"],e):e(jQuery,Formstone)}(function(r,a){"use strict";function o(e){e.stopPropagation(),e.preventDefault();var t=e.data,i=e.originalEvent,n=t.target?t.$target:t.$el;t.property&&i.propertyName!==t.property||!r(i.target).is(n)||s(t)}function s(e){e.always||e.$el[t.namespaceClean]("destroy"),e.callback.apply(e.$el)}function l(e){var t=c(e.$check);!function(e,t){if(r.type(e)!==r.type(t))return!1;for(var i in e){if(!e.hasOwnProperty(i))return!1;if(!e.hasOwnProperty(i)||!t.hasOwnProperty(i)||e[i]!==t[i])return!1}return!0}(e.styles,t)&&s(e),e.styles=t}function c(e){var t,i,n,a={};if(e instanceof r&&(e=e[0]),h.getComputedStyle)for(var o=0,s=(t=h.getComputedStyle(e,null)).length;o<s;o++)i=t[o],n=t.getPropertyValue(i),a[i]=n;else if(e.currentStyle)for(i in t=e.currentStyle)a[i]=t[i];return a}var t=a.Plugin("transition",{widget:!0,defaults:{always:!1,property:null,target:null},methods:{_construct:function(e,t){if(t){e.$target=this.find(e.target),e.$check=e.target?e.$target:this,e.callback=t,e.styles=c(e.$check),e.timer=null;var i=e.$check.css(a.transition+"-duration"),n=parseFloat(i);a.support.transition&&i&&n?this.on(d.transitionEnd,e,o):e.timer=u.startTimer(e.timer,50,function(){l(e)},!0)}},_destruct:function(e){u.clearTimer(e.timer,!0),this.off(d.namespace)},resolve:s}}),d=t.events,u=t.functions,h=a.window}),function(e){"function"==typeof define&&define.amd?define(["jquery","./core","./transition"],e):e(jQuery,Formstone)}(function(l,a){"use strict";function e(){j.scrollTop()+a.windowHeight<0&&0}function c(){(S=l(M.base)).length?P.lockViewport(W):P.unlockViewport(W)}function d(e,t){e.isAnimating||(e.isAnimating=!0,e.$container=l('<div class="'+I.container+'"><img></div>'),e.$image=e.$container.find("img"),e.$viewport.append(e.$container),e.$image.one(A.load,function(){(function(e){(function(e){var t=function(e){var t=e[0],i=new Image;return void 0!==t.naturalHeight?{naturalHeight:t.naturalHeight,naturalWidth:t.naturalWidth}:"img"===t.tagName.toLowerCase()&&(i.src=t.src,{naturalHeight:i.height,naturalWidth:i.width})}(e.$image);e.naturalHeight=t.naturalHeight,e.naturalWidth=t.naturalWidth,e.ratioHorizontal=e.naturalHeight/e.naturalWidth,e.ratioVertical=e.naturalWidth/e.naturalHeight,e.isWide=e.naturalWidth>e.naturalHeight})(e),n(e),e.containerTop=e.viewportHeight/2,e.containerLeft=e.viewportWidth/2,s(e),e.imageHeight=e.naturalHeight,e.imageWidth=e.naturalWidth,function(e){e.imageHeight=e.imageMinHeight,e.imageWidth=e.imageMinWidth}(e),o(e),r(e),u(e),h(e),v(e,{containerTop:e.containerTop,containerLeft:e.containerLeft,imageHeight:e.imageHeight,imageWidth:e.imageWidth,imageTop:e.imageTop,imageLeft:e.imageLeft}),e.isRendering=!0})(e),e.isAnimating=!1,e.$container.fsTransition({property:"opacity"},function(){}),e.$el.removeClass(I.loading),e.$container.fsTouch({pan:!0,scale:!0}).on(A.scaleStart,e,b).on(A.scaleEnd,e,y).on(A.scale,e,w),e.$el.trigger(A.loaded)}).one(A.error,e,i).attr("src",t).addClass(I.image),!e.$image[0].complete&&4!==e.$image[0].readyState||e.$image.trigger(A.load),e.source=t)}function i(e){e.data.$el.trigger(A.error)}function n(e){e.viewportHeight=e.$viewport.outerHeight(),e.viewportWidth=e.$viewport.outerWidth()}function o(e){e.imageHeight<=e.viewportHeight?(e.containerMinTop=e.viewportHeight/2,e.containerMaxTop=e.viewportHeight/2):(e.containerMinTop=e.viewportHeight-e.imageHeight/2,e.containerMaxTop=e.imageHeight/2),e.imageWidth<=e.viewportWidth?(e.containerMinLeft=e.viewportWidth/2,e.containerMaxLeft=e.viewportWidth/2):(e.containerMinLeft=e.viewportWidth-e.imageWidth/2,e.containerMaxLeft=e.imageWidth/2)}function s(e){e.isWide?(e.imageMinWidth=e.viewportWidth,e.imageMinHeight=e.imageMinWidth*e.ratioHorizontal,e.imageMinHeight>e.viewportHeight&&(e.imageMinHeight=e.viewportHeight,e.imageMinWidth=e.imageMinHeight*e.ratioVertical)):(e.imageMinHeight=e.viewportHeight,e.imageMinWidth=e.imageMinHeight*e.ratioVertical,e.imageMinWidth>e.viewportWidth&&(e.imageMinWidth=e.viewportWidth,e.imageMinHeight=e.imageMinWidth*e.ratioHorizontal)),(e.imageMinWidth>e.naturalWidth||e.imageMinHeight>e.naturalHeight)&&(e.imageMinHeight=e.naturalHeight,e.imageMinWidth=e.naturalWidth),e.imageMaxHeight=e.naturalHeight,e.imageMaxWidth=e.naturalWidth}function r(e){e.imageTop=-e.imageHeight/2,e.imageLeft=-e.imageWidth/2}function u(e){e.lastContainerTop=e.containerTop,e.lastContainerLeft=e.containerLeft,e.lastImageHeight=e.imageHeight,e.lastImageWidth=e.imageWidth,e.lastImageTop=e.imageTop,e.lastImageLeft=e.imageLeft}function h(e){e.renderContainerTop=e.lastContainerTop,e.renderContainerLeft=e.lastContainerLeft,e.renderImageTop=e.lastImageTop,e.renderImageLeft=e.lastImageLeft,e.renderImageHeight=e.lastImageHeight,e.renderImageWidth=e.lastImageWidth}function p(e){e.imageHeight<e.imageMinHeight&&(e.imageHeight=e.imageMinHeight),e.imageHeight>e.imageMaxHeight&&(e.imageHeight=e.imageMaxHeight),e.imageWidth<e.imageMinWidth&&(e.imageWidth=e.imageMinWidth),e.imageWidth>e.imageMaxWidth&&(e.imageWidth=e.imageMaxWidth)}function g(e){e.containerTop<e.containerMinTop&&(e.containerTop=e.containerMinTop),e.containerTop>e.containerMaxTop&&(e.containerTop=e.containerMaxTop),e.containerLeft<e.containerMinLeft&&(e.containerLeft=e.containerMinLeft),e.containerLeft>e.containerMaxLeft&&(e.containerLeft=e.containerMaxLeft)}function m(e){null===e.tapTimer?e.tapTimer=P.startTimer(e.tapTimer,500,function(){f(e)}):(f(e),function(e){var t=e.imageHeight>e.imageMinHeight+1;e.isZooming=!0,u(e),h(e),t?(e.imageHeight=e.imageMinHeight,e.imageWidth=e.imageMinWidth):(e.imageHeight=e.imageMaxHeight,e.imageWidth=e.imageMaxWidth),o(e),g(e),r(e),e.isRendering=!0}(e))}function f(e){P.clearTimer(e.tapTimer),e.tapTimer=null}function v(e,t){if(a.transform){var i=t.imageWidth/e.naturalWidth,n=t.imageHeight/e.naturalHeight;e.$container.css(a.transform,"translate3d("+t.containerLeft+"px, "+t.containerTop+"px, 0)"),e.$image.css(a.transform,"translate3d(-50%, -50%, 0) scale("+i+","+n+")")}else e.$container.css({top:t.containerTop,left:t.containerLeft}),e.$image.css({height:t.imageHeight,width:t.imageWidth,top:t.imageTop,left:t.imageLeft})}function b(e){var t=e.data;m(t),u(t)}function w(e){var t=e.data;f(t),t.isRendering=!1,t.isZooming=!1,t.imageHeight,t.imageMinHeight,t.containerTop=t.lastContainerTop+e.deltaY,t.containerLeft=t.lastContainerLeft+e.deltaX,t.imageHeight=t.lastImageHeight*e.scale,t.imageWidth=t.lastImageWidth*e.scale,o(t),g(t),p(t),r(t),v(t,{containerTop:t.containerTop,containerLeft:t.containerLeft,imageHeight:t.imageHeight,imageWidth:t.imageWidth,imageTop:t.imageTop,imageLeft:t.imageLeft})}function y(e){var t=e.data;t.isZooming||(u(t),h(t),t.isRendering=!0)}function $(e){P.killEvent(e);var t=l(e.currentTarget),i=e.data;"out"==(t.hasClass(I.control_zoom_out)?"out":"in")?function(e){e.keyDownTime=1,e.action="zoom_out"}(i):function(e){e.keyDownTime=1,e.action="zoom_in"}(i)}function x(e){e.data.action=!1}function t(e){if(e.isRendering){if(e.action){e.keyDownTime+=e.zoomIncrement;var t=("zoom_out"===e.action?-1:1)*Math.round(e.imageWidth*e.keyDownTime-e.imageWidth);t>e.zoomDelta&&(t=e.zoomDelta),e.isWide?(e.imageWidth+=t,e.imageHeight=Math.round(e.imageWidth/e.ratioVertical)):(e.imageHeight+=t,e.imageWidth=Math.round(e.imageHeight/e.ratioHorizontal)),p(e),r(e),o(e),g(e)}e.renderContainerTop+=Math.round((e.containerTop-e.renderContainerTop)*e.zoomEnertia),e.renderContainerLeft+=Math.round((e.containerLeft-e.renderContainerLeft)*e.zoomEnertia),e.renderImageTop+=Math.round((e.imageTop-e.renderImageTop)*e.zoomEnertia),e.renderImageLeft+=Math.round((e.imageLeft-e.renderImageLeft)*e.zoomEnertia),e.renderImageHeight+=Math.round((e.imageHeight-e.renderImageHeight)*e.zoomEnertia),e.renderImageWidth+=Math.round((e.imageWidth-e.renderImageWidth)*e.zoomEnertia),v(e,{containerTop:e.renderContainerTop,containerLeft:e.renderContainerLeft,imageHeight:e.renderImageHeight,imageWidth:e.renderImageWidth,imageTop:e.renderImageTop,imageLeft:e.renderImageLeft})}}function C(e,t){e.isAnimating||(f(e),e.isAnimating=!0,e.isRendering=!1,e.isZooming=!1,function(e){e.$container&&e.$container.length&&e.$container.fsTouch("destroy").off(A.scaleStart,b).off(A.scaleEnd,y).off(A.scale,w)}(e),e.$container.fsTransition({property:"opacity"},function(){e.isAnimating=!1,e.$container.remove(),"function"==typeof t&&t.call(window,e)}),e.$el.addClass(I.loading))}function _(e){P.killEvent(e);var t=l(e.currentTarget),i=e.data,n=i.index+(t.hasClass(I.control_next)?1:-1);i.isAnimating||(n<0&&(n=0),n>i.total&&(n=i.total),n!==i.index&&(i.index=n,C(i,function(){d(i,i.images[i.index])})),H(i))}function H(e){e.$controlItems.removeClass(I.control_disabled),0===e.index&&e.$controlPrevious.addClass(I.control_disabled),e.index===e.images.length-1&&e.$controlNext.addClass(I.control_disabled)}function k(e){n(e),o(e),s(e),r(e),o(e),g(e),p(e)}var T=a.Plugin("viewer",{widget:!0,defaults:{controls:!0,customClass:"",labels:{count:"of",next:"Next",previous:"Previous",zoom_in:"Zoom In",zoom_out:"Zoom Out"},theme:"fs-light",zoomDelta:100,zoomEnertia:.2,zoomIncrement:.01},classes:["source","wrapper","viewport","container","image","gallery","loading_icon","controls","controls_custom","control","control_previous","control_next","control_zoom_in","control_zoom_out","control_disabled","loading"],events:{loaded:"loaded",ready:"ready"},methods:{_construct:function(e){var t,i="",n=[I.control,I.control_previous].join(" "),a=[I.control,I.control_next].join(" "),o=[I.control,I.control_zoom_in].join(" "),s=[I.control,I.control_zoom_out].join(" ");e.thisClasses=[I.base,I.loading,e.customClass,e.theme],e.images=[],e.source=!1,e.gallery=!1,e.tapTimer=null,e.action=!1,e.isRendering=!1,e.isZooming=!1,e.isAnimating=!1,e.keyDownTime=1,e.$images=this.find("img").addClass(I.source),e.index=0,e.total=e.$images.length-1,e.customControls="object"===l.type(e.controls)&&e.controls.zoom_in&&e.controls.zoom_out,1<e.$images.length&&(e.gallery=!0,e.thisClasses.push(I.gallery),!e.customControls||e.controls.previous&&e.controls.next||(e.customControls=!1));for(var r=0;r<e.$images.length;r++)t=e.$images.eq(r),e.images.push(t.attr("src"));i+='<div class="'+I.wrapper+'">',i+='<div class="'+I.loading_icon+'"></div>',i+='<div class="'+I.viewport+'"></div>',i+="</div>",e.controls&&!e.customControls&&(i+='<div class="'+I.controls+'">',i+='<button type="button" class="'+n+'">'+e.labels.previous+"</button>",i+='<button type="button" class="'+s+'">'+e.labels.zoom_out+"</button>",i+='<button type="button" class="'+o+'">'+e.labels.zoom_in+"</button>",i+='<button type="button" class="'+a+'">'+e.labels.next+"</button>",i+="</div>"),this.addClass(e.thisClasses.join(" ")).prepend(i),e.$wrapper=this.find(M.wrapper),e.$viewport=this.find(M.viewport),e.customControls?(e.$controls=l(e.controls.container).addClass([I.controls,I.controls_custom].join(" ")),e.$controlPrevious=l(e.controls.previous).addClass(n),e.$controlNext=l(e.controls.next).addClass(a),e.$controlZoomIn=l(e.controls.zoom_in).addClass(o),e.$controlZoomOut=l(e.controls.zoom_out).addClass(s)):(e.$controls=this.find(M.controls),e.$controlPrevious=this.find(M.control_previous),e.$controlNext=this.find(M.control_next),e.$controlZoomIn=this.find(M.control_zoom_in),e.$controlZoomOut=this.find(M.control_zoom_out)),e.$controlItems=e.$controlPrevious.add(e.$controlNext),e.$controlZooms=e.$controlZoomIn.add(e.$controlZoomOut),c(),e.$controlItems.on(A.click,e,_),e.$controlZooms.on([A.touchStart,A.mouseDown].join(" "),e,$).on([A.touchEnd,A.mouseUp].join(" "),e,x),d(e,e.images[e.index]),H(e)},_destruct:function(e){e.$wrapper.remove(),e.$image.removeClass(I.source),e.controls&&!e.customControls&&e.$controls.remove(),e.customControls&&(e.$controls.removeClass([I.controls,I.controls_custom].join(" ")),e.$controlItems.off(A.click).removeClass([I.control,I.control_previous,I.control_next].join(" ")),e.$controlZooms.off([A.touchStart,A.mouseDown].join(" ")).off([A.touchStart,A.mouseDown].join(" ")).off([A.touchEnd,A.mouseUp].join(" ")).removeClass([I.control,I.control_zoom_in,I.control_zoom_out].join(" "))),this.removeClass(e.thisClasses.join(" ")).off(A.namespace),c()},_resize:function(){P.iterate.call(S,k)},_raf:function(){P.iterate.call(S,t)},resize:k,load:function(e,t){e.index=0,"string"==typeof t?(e.total=0,e.images=[t],e.gallery=!1,e.$el.removeClass(I.gallery)):(e.total=t.length-1,1<(e.images=t).length&&(e.gallery=!0,e.$el.addClass(I.gallery)),t=e.images[e.index]),C(e,function(){d(e,t)})},unload:function(e){C(e)}}}),W=T.namespace,M=T.classes,I=M.raw,A=T.events,P=T.functions,j=(a.window,a.$window),S=[];a.Ready(function(){e(),j.on("scroll",e),a.$body})}),function(e){var t,a,i,n=navigator.userAgent;function o(e){var t,i,n=e.parentNode;"PICTURE"===n.nodeName.toUpperCase()?(t=a.cloneNode(),n.insertBefore(t,n.firstElementChild),setTimeout(function(){n.removeChild(t)})):(!e._pfLastSize||e.offsetWidth>e._pfLastSize)&&(e._pfLastSize=e.offsetWidth,i=e.sizes,e.sizes+=",100vw",setTimeout(function(){e.sizes=i}))}function s(){var e,t=document.querySelectorAll("picture > img, img[srcset][sizes]");for(e=0;e<t.length;e++)o(t[e])}function r(){clearTimeout(t),t=setTimeout(s,99)}function l(){r(),i&&i.addListener&&i.addListener(r)}e.HTMLPictureElement&&/ecko/.test(n)&&n.match(/rv\:(\d+)/)&&RegExp.$1<45&&addEventListener("resize",(a=document.createElement("source"),i=e.matchMedia&&matchMedia("(orientation: landscape)"),a.srcset="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",/^[c|i]|d$/.test(document.readyState||"")?l():document.addEventListener("DOMContentLoaded",l),r))}(window),function(e,o,c){"use strict";var a,d,s;o.createElement("picture");function t(){}function i(e,t,i,n){e.addEventListener?e.addEventListener(t,i,n||!1):e.attachEvent&&e.attachEvent("on"+t,i)}function n(t){var i={};return function(e){return e in i||(i[e]=t(e)),i[e]}}var w={},r=!1,l=o.createElement("img"),u=l.getAttribute,h=l.setAttribute,p=l.removeAttribute,g=o.documentElement,m={},y={algorithm:""},f="data-pfsrc",v=f+"set",b=navigator.userAgent,$=/rident/.test(b)||/ecko/.test(b)&&b.match(/rv\:(\d+)/)&&35<RegExp.$1,x="currentSrc",C=/\s+\+?\d+(e\d+)?w/,_=/(\([^)]+\))?\s*(.+)/,H=e.picturefillCFG,k="font-size:100%!important;",T=!0,W={},M={},I=e.devicePixelRatio,A={px:1,in:96},P=o.createElement("a"),j=!1,S=/^[ \t\n\r\u000c]+/,E=/^[, \t\n\r\u000c]+/,L=/^[^ \t\n\r\u000c]+/,z=/[,]+$/,q=/^\d+$/,O=/^-?(?:[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?$/;function D(e){return" "===e||"\t"===e||"\n"===e||"\f"===e||"\r"===e}function R(e,t){return e.w?(e.cWidth=w.calcListLength(t||"100vw"),e.res=e.w/e.cWidth):e.res=e.d,e}var V,X,G,Y,F,N,Q,B,U,K,Z,J,ee,te,ie,ne,ae,oe,se=(V=/^([\d\.]+)(em|vw|px)$/,X=n(function(e){return"return "+function(){for(var e=arguments,t=0,i=e[0];++t in e;)i=i.replace(e[t],e[++t]);return i}((e||"").toLowerCase(),/\band\b/g,"&&",/,/g,"||",/min-([a-z-\s]+):/g,"e.$1>=",/max-([a-z-\s]+):/g,"e.$1<=",/calc([^)]+)/g,"($1)",/(\d+[\.]*[\d]*)([a-z]+)/g,"($1 * e.$2)",/^(?!(e.[a-z]|[0-9\.&=|><\+\-\*\(\)\/])).*/gi,"")+";"}),function(e,t){var i;if(!(e in W))if(W[e]=!1,t&&(i=e.match(V)))W[e]=i[1]*A[i[2]];else try{W[e]=new Function("e",X(e))(A)}catch(e){}return W[e]}),re=function(e){if(r){var t,i,n,a=e||{};if(a.elements&&1===a.elements.nodeType&&("IMG"===a.elements.nodeName.toUpperCase()?a.elements=[a.elements]:(a.context=a.elements,a.elements=null)),n=(t=a.elements||w.qsa(a.context||o,a.reevaluate||a.reselect?w.sel:w.selShort)).length){for(w.setupRun(a),j=!0,i=0;i<n;i++)w.fillImg(t[i],a);w.teardownRun(a)}}};function le(e,t){return e.res-t.res}function ce(e,t){var i,n,a;if(e&&t)for(a=w.parseSet(t),e=w.makeUrl(e),i=0;i<a.length;i++)if(e===w.makeUrl(a[i].url)){n=a[i];break}return n}function de(e){var t,i,n,a,o,s,r,l=/^(?:[+-]?[0-9]+|[0-9]*\.[0-9]+)(?:[eE][+-]?[0-9]+)?(?:ch|cm|em|ex|in|mm|pc|pt|px|rem|vh|vmin|vmax|vw)$/i,c=/^calc\((?:[0-9a-z \.\+\-\*\/\(\)]+)\)$/i;for(n=(i=function(e){var t,i="",n=[],a=[],o=0,s=0,r=!1;function l(){i&&(n.push(i),i="")}function c(){n[0]&&(a.push(n),n=[])}for(;;){if(""===(t=e.charAt(s)))return l(),c(),a;if(r){if("*"===t&&"/"===e[s+1]){r=!1,s+=2,l();continue}s+=1}else{if(D(t)){if(e.charAt(s-1)&&D(e.charAt(s-1))||!i){s+=1;continue}if(0===o){l(),s+=1;continue}t=" "}else if("("===t)o+=1;else if(")"===t)o-=1;else{if(","===t){l(),c(),s+=1;continue}if("/"===t&&"*"===e.charAt(s+1)){r=!0,s+=2;continue}}i+=t,s+=1}}}(e)).length,t=0;t<n;t++)if(o=(a=i[t])[a.length-1],r=o,l.test(r)&&0<=parseFloat(r)||c.test(r)||"0"===r||"-0"===r||"+0"===r){if(s=o,a.pop(),0===a.length)return s;if(a=a.join(" "),w.matchesMedia(a))return s}return"100vw"}function ue(){2===F.width&&(w.supSizes=!0),d=w.supSrcset&&!w.supSizes,r=!0,setTimeout(re)}e.console&&console.warn,x in l||(x="src"),m["image/jpeg"]=!0,m["image/gif"]=!0,m["image/png"]=!0,m["image/svg+xml"]=o.implementation.hasFeature("http://www.w3.org/TR/SVG11/feature#Image","1.1"),w.ns=("pf"+(new Date).getTime()).substr(0,9),w.supSrcset="srcset"in l,w.supSizes="sizes"in l,w.supPicture=!!e.HTMLPictureElement,w.supSrcset&&w.supPicture&&!w.supSizes&&(G=o.createElement("img"),l.srcset="data:,a",G.src="data:,a",w.supSrcset=l.complete===G.complete,w.supPicture=w.supSrcset&&w.supPicture),w.supSrcset&&!w.supSizes?(Y="data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==",(F=o.createElement("img")).onload=ue,F.onerror=ue,F.setAttribute("sizes","9px"),F.srcset=Y+" 1w,data:image/gif;base64,R0lGODlhAgABAPAAAP///wAAACH5BAAAAAAALAAAAAACAAEAAAICBAoAOw== 9w",F.src=Y):r=!0,w.selShort="picture>img,img[srcset]",w.sel=w.selShort,w.cfg=y,w.DPR=I||1,w.u=A,w.types=m,w.setSize=t,w.makeUrl=n(function(e){return P.href=e,P.href}),w.qsa=function(e,t){return"querySelector"in e?e.querySelectorAll(t):[]},w.matchesMedia=function(){return e.matchMedia&&(matchMedia("(min-width: 0.1em)")||{}).matches?w.matchesMedia=function(e){return!e||matchMedia(e).matches}:w.matchesMedia=w.mMQ,w.matchesMedia.apply(this,arguments)},w.mMQ=function(e){return!e||se(e)},w.calcLength=function(e){var t=se(e,!0)||!1;return t<0&&(t=!1),t},w.supportsType=function(e){return!e||m[e]},w.parseSize=n(function(e){var t=(e||"").match(_);return{media:t&&t[1],length:t&&t[2]}}),w.parseSet=function(e){return e.cands||(e.cands=function(n,u){function e(e){var t,i=e.exec(n.substring(s));if(i)return t=i[0],s+=t.length,t}var h,p,t,i,a,o=n.length,s=0,g=[];function r(){var e,t,i,n,a,o,s,r,l,c=!1,d={};for(n=0;n<p.length;n++)o=(a=p[n])[a.length-1],s=a.substring(0,a.length-1),r=parseInt(s,10),l=parseFloat(s),q.test(s)&&"w"===o?((e||t)&&(c=!0),0===r?c=!0:e=r):O.test(s)&&"x"===o?((e||t||i)&&(c=!0),l<0?c=!0:t=l):q.test(s)&&"h"===o?((i||t)&&(c=!0),0===r?c=!0:i=r):c=!0;c||(d.url=h,e&&(d.w=e),t&&(d.d=t),i&&(d.h=i),i||t||e||(d.d=1),1===d.d&&(u.has1x=!0),d.set=u,g.push(d))}function l(){for(e(S),t="",i="in descriptor";;){if(a=n.charAt(s),"in descriptor"===i)if(D(a))t&&(p.push(t),t="",i="after descriptor");else{if(","===a)return s+=1,t&&p.push(t),void r();if("("===a)t+=a,i="in parens";else{if(""===a)return t&&p.push(t),void r();t+=a}}else if("in parens"===i)if(")"===a)t+=a,i="in descriptor";else{if(""===a)return p.push(t),void r();t+=a}else if("after descriptor"===i)if(D(a));else{if(""===a)return void r();i="in descriptor",s-=1}s+=1}}for(;;){if(e(E),o<=s)return g;h=e(L),p=[],","===h.slice(-1)?(h=h.replace(z,""),r()):l()}}(e.srcset,e)),e.cands},w.getEmValue=function(){var e;if(!a&&(e=o.body)){var t=o.createElement("div"),i=g.style.cssText,n=e.style.cssText;t.style.cssText="position:absolute;left:0;visibility:hidden;display:block;padding:0;border:none;font-size:1em;width:1em;overflow:hidden;clip:rect(0px, 0px, 0px, 0px)",g.style.cssText=k,e.style.cssText=k,e.appendChild(t),a=t.offsetWidth,e.removeChild(t),a=parseFloat(a,10),g.style.cssText=i,e.style.cssText=n}return a||16},w.calcListLength=function(e){if(!(e in M)||y.uT){var t=w.calcLength(de(e));M[e]=t||A.width}return M[e]},w.setRes=function(e){var t;if(e)for(var i=0,n=(t=w.parseSet(e)).length;i<n;i++)R(t[i],e.sizes);return t},w.setRes.res=R,w.applySetCandidate=function(e,t){if(e.length){var i,n,a,o,s,r,l,c,d,u,h,p,g,m,f,v=t[w.ns],b=w.DPR;if(r=v.curSrc||t[x],(l=v.curCan||function(e,t,i){var n;return!i&&t&&(i=(i=e[w.ns].sets)&&i[i.length-1]),(n=ce(t,i))&&(t=w.makeUrl(t),e[w.ns].curSrc=t,(e[w.ns].curCan=n).res||R(n,n.set.sizes)),n}(t,r,e[0].set))&&l.set===e[0].set&&((d=$&&!t.complete&&l.res-.1>b)||(l.cached=!0,l.res>=b&&(s=l))),!s)for(e.sort(le),s=e[(o=e.length)-1],n=0;n<o;n++)if((i=e[n]).res>=b){s=e[a=n-1]&&(d||r!==w.makeUrl(i.url))&&(u=e[a].res,h=i.res,p=b,g=e[a].cached,f=m=void 0,p<("saveData"===y.algorithm?2.7<u?p+1:(f=(h-p)*(m=Math.pow(u-.6,1.5)),g&&(f+=.1*m),u+f):1<p?Math.sqrt(u*h):u))?e[a]:i;break}s&&(c=w.makeUrl(s.url),v.curSrc=c,v.curCan=s,c!==r&&w.setSrc(t,s),w.setSize(t))}},w.setSrc=function(e,t){var i;e.src=t.url,"image/svg+xml"===t.set.type&&(i=e.style.width,e.style.width=e.offsetWidth+1+"px",e.offsetWidth+1&&(e.style.width=i))},w.getSet=function(e){var t,i,n,a=!1,o=e[w.ns].sets;for(t=0;t<o.length&&!a;t++)if((i=o[t]).srcset&&w.matchesMedia(i.media)&&(n=w.supportsType(i.type))){"pending"===n&&(i=n),a=i;break}return a},w.parseSets=function(e,t,i){var n,a,o,s,r=t&&"PICTURE"===t.nodeName.toUpperCase(),l=e[w.ns];l.src!==c&&!i.src||(l.src=u.call(e,"src"),l.src?h.call(e,f,l.src):p.call(e,f)),l.srcset!==c&&!i.srcset&&w.supSrcset&&!e.srcset||(n=u.call(e,"srcset"),l.srcset=n,s=!0),l.sets=[],r&&(l.pic=!0,function(e,t){var i,n,a,o,s=e.getElementsByTagName("source");for(i=0,n=s.length;i<n;i++)(a=s[i])[w.ns]=!0,(o=a.getAttribute("srcset"))&&t.push({srcset:o,media:a.getAttribute("media"),type:a.getAttribute("type"),sizes:a.getAttribute("sizes")})}(t,l.sets)),l.srcset?(a={srcset:l.srcset,sizes:u.call(e,"sizes")},l.sets.push(a),(o=(d||l.src)&&C.test(l.srcset||""))||!l.src||ce(l.src,a)||a.has1x||(a.srcset+=", "+l.src,a.cands.push({url:l.src,d:1,set:a}))):l.src&&l.sets.push({srcset:l.src,sizes:null}),l.curCan=null,l.curSrc=c,l.supported=!(r||a&&!w.supSrcset||o&&!w.supSizes),s&&w.supSrcset&&!l.supported&&(n?(h.call(e,v,n),e.srcset=""):p.call(e,v)),l.supported&&!l.srcset&&(!l.src&&e.src||e.src!==w.makeUrl(l.src))&&(null===l.src?e.removeAttribute("src"):e.src=l.src),l.parsed=!0},w.fillImg=function(e,t){var i,n=t.reselect||t.reevaluate;e[w.ns]||(e[w.ns]={}),i=e[w.ns],!n&&i.evaled===s||(i.parsed&&!t.reevaluate||w.parseSets(e,e.parentNode,t),i.supported?i.evaled=s:function(e){var t,i=w.getSet(e),n=!1;"pending"!==i&&(n=s,i&&(t=w.setRes(i),w.applySetCandidate(t,e))),e[w.ns].evaled=n}(e))},w.setupRun=function(){j&&!T&&I===e.devicePixelRatio||(T=!1,I=e.devicePixelRatio,W={},M={},w.DPR=I||1,A.width=Math.max(e.innerWidth||0,g.clientWidth),A.height=Math.max(e.innerHeight||0,g.clientHeight),A.vw=A.width/100,A.vh=A.height/100,s=[A.height,A.width,I].join("-"),A.em=w.getEmValue(),A.rem=A.em)},w.supPicture?(re=t,w.fillImg=t):(J=e.attachEvent?/d$|^c/:/d$|^c|^i/,ee=function(){var e=o.readyState||"";te=setTimeout(ee,"loading"===e?200:999),o.body&&(w.fillImgs(),(N=N||J.test(e))&&clearTimeout(te))},te=setTimeout(ee,o.body?9:99),ie=g.clientHeight,i(e,"resize",(Q=function(){T=Math.max(e.innerWidth||0,g.clientWidth)!==A.width||g.clientHeight!==ie,ie=g.clientHeight,T&&w.fillImgs()},B=99,Z=function(){var e=new Date-K;e<B?U=setTimeout(Z,B-e):(U=null,Q())},function(){K=new Date,U=U||setTimeout(Z,B)})),i(o,"readystatechange",ee)),w.picturefill=re,w.fillImgs=re,w.teardownRun=t,re._=w,e.picturefillCFG={pf:w,push:function(e){var t=e.shift();"function"==typeof w[t]?w[t].apply(w,e):(y[t]=e[0],j&&w.fillImgs({reselect:!0}))}};for(;H&&H.length;)e.picturefillCFG.push(H.shift());e.picturefill=re,"object"==typeof module&&"object"==typeof module.exports?module.exports=re:"function"==typeof define&&define.amd&&define("picturefill",function(){return re}),w.supPicture||(m["image/webp"]=(ne="image/webp",ae="data:image/webp;base64,UklGRkoAAABXRUJQVlA4WAoAAAAQAAAAAAAAAAAAQUxQSAwAAAABBxAR/Q9ERP8DAABWUDggGAAAADABAJ0BKgEAAQADADQlpAADcAD++/1QAA==",(oe=new e.Image).onerror=function(){m[ne]=!1,re()},oe.onload=function(){m[ne]=1===oe.width,re()},oe.src=ae,"pending"))}(window,document),function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t():"function"==typeof define&&define.amd?define("whatInput",[],t):"object"==typeof exports?exports.whatInput=t():e.whatInput=t()}(this,function(){return a={},i.m=n=[function(e,t){"use strict";e.exports=function(){if("undefined"==typeof document||"undefined"==typeof window)return{ask:function(){return"initial"},element:function(){return null},ignoreKeys:function(){},specificKeys:function(){},registerOnChange:function(){},unRegisterOnChange:function(){}};var t=document.documentElement,i=null,r="initial",l=r,n=Date.now(),a="false",c=["button","input","select","textarea"],o=[],d=[16,17,18,91,93],u=[],h={keydown:"keyboard",keyup:"keyboard",mousedown:"mouse",mousemove:"mouse",MSPointerDown:"pointer",MSPointerMove:"pointer",pointerdown:"pointer",pointermove:"pointer",touchstart:"touch",touchend:"touch"},s=!1,p={x:null,y:null},g={2:"touch",3:"touch",4:"mouse"},m=!1;try{var e=Object.defineProperty({},"passive",{get:function(){m=!0}});window.addEventListener("test",null,e)}catch(e){}var f=function(){var e=!!m&&{passive:!0};document.addEventListener("DOMContentLoaded",v),window.PointerEvent?(window.addEventListener("pointerdown",b),window.addEventListener("pointermove",y)):window.MSPointerEvent?(window.addEventListener("MSPointerDown",b),window.addEventListener("MSPointerMove",y)):(window.addEventListener("mousedown",b),window.addEventListener("mousemove",y),"ontouchstart"in window&&(window.addEventListener("touchstart",b,e),window.addEventListener("touchend",b))),window.addEventListener(k(),y,e),window.addEventListener("keydown",b),window.addEventListener("keyup",b),window.addEventListener("focusin",$),window.addEventListener("focusout",x)},v=function(){if(a=!(t.getAttribute("data-whatpersist")||"false"===document.body.getAttribute("data-whatpersist")))try{window.sessionStorage.getItem("what-input")&&(r=window.sessionStorage.getItem("what-input")),window.sessionStorage.getItem("what-intent")&&(l=window.sessionStorage.getItem("what-intent"))}catch(e){}w("input"),w("intent")},b=function(e){var t=e.which,i=h[e.type];"pointer"===i&&(i=_(e));var n=!u.length&&-1===d.indexOf(t),a=u.length&&-1!==u.indexOf(t),o="keyboard"===i&&t&&(n||a)||"mouse"===i||"touch"===i;if(H(i)&&(o=!1),o&&r!==i&&(C("input",r=i),w("input")),o&&l!==i){var s=document.activeElement;s&&s.nodeName&&(-1===c.indexOf(s.nodeName.toLowerCase())||"button"===s.nodeName.toLowerCase()&&!M(s,"form"))&&(C("intent",l=i),w("intent"))}},w=function(e){t.setAttribute("data-what"+e,"input"===e?r:l),T(e)},y=function(e){var t=h[e.type];"pointer"===t&&(t=_(e)),W(e),(!s&&!H(t)||s&&"wheel"===e.type||"mousewheel"===e.type||"DOMMouseScroll"===e.type)&&l!==t&&(C("intent",l=t),w("intent"))},$=function(e){e.target.nodeName?(i=e.target.nodeName.toLowerCase(),t.setAttribute("data-whatelement",i),e.target.classList&&e.target.classList.length&&t.setAttribute("data-whatclasses",e.target.classList.toString().replace(" ",","))):x()},x=function(){i=null,t.removeAttribute("data-whatelement"),t.removeAttribute("data-whatclasses")},C=function(e,t){if(a)try{window.sessionStorage.setItem("what-"+e,t)}catch(e){}},_=function(e){return"number"==typeof e.pointerType?g[e.pointerType]:"pen"===e.pointerType?"touch":e.pointerType},H=function(e){var t=Date.now(),i="mouse"===e&&"touch"===r&&t-n<200;return n=t,i},k=function(){return"onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll"},T=function(e){for(var t=0,i=o.length;t<i;t++)o[t].type===e&&o[t].fn.call(void 0,"input"===e?r:l)},W=function(e){p.x!==e.screenX||p.y!==e.screenY?(s=!1,p.x=e.screenX,p.y=e.screenY):s=!0},M=function(e,t){var i=window.Element.prototype;if(i.matches||(i.matches=i.msMatchesSelector||i.webkitMatchesSelector),i.closest)return e.closest(t);do{if(e.matches(t))return e;e=e.parentElement||e.parentNode}while(null!==e&&1===e.nodeType);return null};return"addEventListener"in window&&Array.prototype.indexOf&&(h[k()]="mouse",f()),{ask:function(e){return"intent"===e?l:r},element:function(){return i},ignoreKeys:function(e){d=e},specificKeys:function(e){u=e},registerOnChange:function(e,t){o.push({fn:e,type:t||"input"})},unRegisterOnChange:function(e){var t=function(e){for(var t=0,i=o.length;t<i;t++)if(o[t].fn===e)return t}(e);!t&&0!==t||o.splice(t,1)},clearStorage:function(){window.sessionStorage.clear()}}}()}],i.c=a,i.p="",i(0);function i(e){if(a[e])return a[e].exports;var t=a[e]={exports:{},id:e,loaded:!1};return n[e].call(t.exports,t,t.exports,i),t.loaded=!0,t.exports}var n,a}),function(e,t){"function"==typeof define&&define.amd?define([],function(){return e.svg4everybody=t()}):"object"==typeof module&&module.exports?module.exports=t():e.svg4everybody=t()}(this,function(){function f(e,t,i){if(i){var n=document.createDocumentFragment(),a=!t.hasAttribute("viewBox")&&i.getAttribute("viewBox");a&&t.setAttribute("viewBox",a);for(var o=i.cloneNode(!0);o.childNodes.length;)n.appendChild(o.firstChild);e.appendChild(n)}}function v(n){n.onreadystatechange=function(){if(4===n.readyState){var i=n._cachedDocument;i||((i=n._cachedDocument=document.implementation.createHTMLDocument("")).body.innerHTML=n.responseText,n._cachedTarget={}),n._embeds.splice(0).map(function(e){var t=n._cachedTarget[e.id];t=t||(n._cachedTarget[e.id]=i.getElementById(e.id)),f(e.parent,e.svg,t)})}},n.onreadystatechange()}function b(e){for(var t=e;"svg"!==t.nodeName.toLowerCase()&&(t=t.parentNode););return t}return function(e){var d,u=Object(e),t=window.top!==window.self;d="polyfill"in u?u.polyfill:/\bTrident\/[567]\b|\bMSIE (?:9|10)\.0\b/.test(navigator.userAgent)||(navigator.userAgent.match(/\bEdge\/12\.(\d+)\b/)||[])[1]<10547||(navigator.userAgent.match(/\bAppleWebKit\/(\d+)\b/)||[])[1]<537||/\bEdge\/.(\d+)\b/.test(navigator.userAgent)&&t;var h={},p=window.requestAnimationFrame||setTimeout,g=document.getElementsByTagName("use"),m=0;d&&function e(){for(var t=0;t<g.length;){var i=g[t],n=i.parentNode,a=b(n),o=i.getAttribute("xlink:href")||i.getAttribute("href");if(!o&&u.attributeName&&(o=i.getAttribute(u.attributeName)),a&&o){if(d)if(!u.validate||u.validate(o,a,i)){n.removeChild(i);var s=o.split("#"),r=s.shift(),l=s.join("#");if(r.length){var c=h[r];c||((c=h[r]=new XMLHttpRequest).open("GET",r),c.send(),c._embeds=[]),c._embeds.push({parent:n,svg:a,id:l}),v(c)}else f(n,a,document.getElementById(l))}else++t,++m}else++t}(!g.length||0<g.length-m)&&p(e,67)}()}});var Site=function(t,i){function e(){this.namespace="",this.minWidth=320,this.maxWidth=1/0,this.scrollTop=0,this.windowHeight=0,this.windowWidth=0,this.window=null,this.doc=null,this.$window=null,this.$doc=null,this.$body=null,this.modules=[],this.onInit=[],this.onRespond=[],this.onResize=[],this.onScroll=[],this.minXS="320",this.minSM="500",this.minMD="740",this.minLG="980",this.minXL="1220",this.maxXS=this.minXS-1,this.maxSM=this.minSM-1,this.maxMD=this.minMD-1,this.maxLG=this.minLG-1,this.maxXL=this.minXL-1,this.minHTsm=parseInt("800",10),this.minHT=parseInt("800",10),this.maxHTsm=this.minHTsm-1,this.maxHT=this.minHT-1,this.touch=!1}t.extend(e.prototype,{init:function(e){this.namespace=e,this.window=i,this.doc=document,this.$window=t(i),this.$doc=t(document),this.$body=t("body"),this.touch=t("html").hasClass("touchevents"),t.mediaquery&&t.mediaquery({minWidth:[this.minXS,this.minSM,this.minMD,this.minLG,this.minXL],maxWidth:[this.maxXL,this.maxLG,this.maxMD,this.maxSM,this.maxXS],minHeight:[this.minHTsm,this.minHT]}),t.cookie&&t.cookie({path:"/"}),a(this.onInit),this.$window.on("mqchange.mediaquery",o).on(n.ns("resize"),s).on(n.ns("scroll"),r),this.resize()},ns:function(e){return e+"."+this.namespace},resize:function(){this.$window.trigger(n.ns("resize"))},scroll:function(){this.$window.trigger(n.ns("scroll"))},killEvent:function(e){e&&e.preventDefault&&(e.preventDefault(),e.stopPropagation())},startTimer:function(e,t,i,n){return this.clearTimer(e),n?setInterval(i,t):setTimeout(i,t)},clearTimer:function(e,t){e&&(t?clearInterval(e):clearTimeout(e),e=null)},symbol:function(e){var t='<svg class="symbol symbol_'+e+'">';return 0<i.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./)?t+='<use xlink:href="#'+e+'">':t+='<use xlink:href="'+STATIC_ROOT+"images/icons.svg#"+e+'">',t+"</use></svg>"}});var n=new e;function a(e){for(var t in e)e.hasOwnProperty(t)&&e[t].apply(n,Array.prototype.slice.call(arguments,1))}function o(e,t){a(n.onRespond,t)}function s(){a(n.onResize)}function r(){a(n.onScroll)}return n}(jQuery,window);jQuery(document).ready(function(){Site.init("@namespace")}),Site.modules.Page=function(n,a){var e=n(".js-main-nav"),t=n(".js-sub-nav"),i="arrow_left",o="arrow_right",s={labels:{play:"Play Video",pause:"Pause Video"},icons:{play:a.symbol("video_play"),pause:a.symbol("video_pause")}};function r(){}function l(){f(),n(".js-carousel").each(function(){"left"==n(this).css("text-align")?n(this).carousel("disable"):n(this).carousel("enable")}),n(".stats").length&&("left"==n(".stats_spot_title").css("text-align")?n(".stats_spot_title").css("margin-top",n(".stats_spot_title").outerHeight()/1*-1+45):n(".stats_spot_title").css("margin-top","")),function(){(n(".cover_image_block").length||n(".cover_video_block").length)&&("absolute"==n(".logo_header").css("position")?(n(".subnav_cell").css("margin-top",""),n(".page_intro").length?n(".content_cell").css("margin-top",-1*(n(".page_header").innerHeight()-n(".page_intro").outerHeight()+parseInt(n(".page_content").css("padding-top").replace("px",""))-20)):n(".content_cell").css("margin-top",-1*(n(".page_header").innerHeight()+(parseInt(n(".page_content").css("padding-top").replace("px",""))-20)))):(n(".subnav_cell").css("margin-top",-1*n(".subnav_cell").height()),n(".content_cell").css("margin-top","")));n(".cover_detail_image_block").length&&("absolute"==n(".logo_header").css("position")?(n(".page").css("padding-top",n(".header").height()+50),n(".content_cell").css("margin-top",-1*parseInt(n(".page_content").css("padding-top").replace("px",""))-60)):(n(".page").css("padding-top",""),n(".content_cell").css("margin-top","")))}(),h()}function c(){}function d(){var e=n(this).closest(".js-background-video");e.background("play"),e.find(".fs-background-control-play").addClass("fs-background-control-active").attr("aria-pressed","true"),e.find(".fs-background-control-pause").removeClass("fs-background-control-active").attr("aria-pressed","false")}function u(){var e=n(this).closest(".js-background-video");e.background("pause"),e.find(".fs-background-control-pause").addClass("fs-background-control-active").attr("aria-pressed","true"),e.find(".fs-background-control-play").removeClass("fs-background-control-active").attr("aria-pressed","false")}function h(){n(".fs-background-controls").length&&n(".fs-background-controls").css("left",n(".logo_header")[0].getBoundingClientRect().left)}function p(e){a.killEvent(e),function(e){var t=n(e);if(t.length){!function(e){n("html, body").animate({scrollTop:e})}(t.offset().top)}}(n(e.delegateTarget).attr("href"))}function g(e){a.killEvent(e);var t=n(e.delegateTarget),i="js-toggle-active";t.hasClass(i)?t.removeClass(i):t.addClass(i)}function m(e){"string"===n.type(e)&&(e=e.split(","),n.analytics.apply(this,e))}function f(){n(".table_wrapper").each(function(){n(this).removeClass("table_wrapper_overflow"),n(this).prop("scrollWidth")>n(this).width()+1?n(this).addClass("table_wrapper_overflow"):n(this).removeClass("table_wrapper_overflow")})}return a.onInit.push(function(){picturefill(),(0<window.navigator.userAgent.indexOf("MSIE ")||navigator.userAgent.match(/Trident.*rv\:11\./))&&n.get(WWW_ROOT+"images/icons.svg",function(e){var t=document.createElement("div");n(t).hide(),t.innerHTML=(new XMLSerializer).serializeToString(e.documentElement),document.body.insertBefore(t,document.body.childNodes[0]),n("svg use").each(function(){var e=n(this).attr("xlink:href").split("#");n(this).attr("xlink:href","#"+e[1])})}),a.$body.find(".js-background").on("loaded.background",function(){n(this).addClass("fs-background-loaded"),function(e){var t=n(e);t.hasClass("js-background-video")&&(0==t.find(".fs-background-controls").length&&n("<div class='fs-background-controls'><button class='fs-background-control fs-background-control-play fs-background-control-active' aria-pressed='true' aria-label='play'><span class='fs-background-control-icon'>"+s.icons.play+"</span><span class='fs-background-control-label'>"+s.labels.play+"<span></button><button class='fs-background-control fs-background-control-pause' aria-pressed='false' aria-label='pause'><span class='fs-background-control-icon'>"+s.icons.pause+"</span><span class='fs-background-control-label'>"+s.labels.pause+"<span></button></div>").appendTo(t),t.find(".fs-background-control-play").on("click",d),t.find(".fs-background-control-pause").on("click",u))}(this),h()}).background(),a.$body.find(".js-carousel").carousel({labels:{previous:"<span class='fs-carousel-control-icon'>"+a.symbol(i)+"</span>",next:"<span class='fs-carousel-control-icon'>"+a.symbol(o)+"</span>"}}),a.$body.find(".js-checkbox, .js-radio, input[type=checkbox], input[type=radio]").checkbox(),a.$body.find(".js-dropdown").dropdown(),a.$body.find(".js-equalize").equalize(),a.$body.find(".js-lightbox").lightbox({mobile:!1,theme:"fs-light",labels:{close:"<span class='fs-lightbox-icon-close'>"+a.symbol("close_alternate")+"</span>",previous:"<span class='fs-lightbox-icon-previous'>"+a.symbol(i)+"</span>",count:"<span class='fs-lightbox-meta-divider'> / </span>",next:"<span class='fs-lightbox-icon-next'>"+a.symbol(o)+"</span>"}}),a.$body.find(".js-navigation").navigation({maxWidth:a.maxLG+"px"}).on("open.navigation",function(){m(n(this).data("analytics-open")),a.$body.find(".js-navigation").attr("aria-hidden","false").removeAttr("hidden")}).on("close.navigation",function(){m(n(this).data("analytics-close")),a.$body.find(".js-navigation").attr("aria-hidden","true").attr("hidden","")}),a.$body.find(".js-swap").swap(),n.mediaquery("bind","mq-key","(min-width: "+a.minLG+"px)",{enter:function(){t.attr("aria-hidden","false").removeAttr("hidden")},leave:function(){t.attr("aria-hidden","true").attr("hidden","")}}),n(window).on("open.lightbox",function(){n(".js-lightbox").lightbox("resize")}),e.find("a").focus(function(){n(this).closest(".main_nav_item").addClass("focused")}).blur(function(){n(this).closest(".main_nav_item").removeClass("focused")}),n.analytics({scrollDepth:!0}),n('a[href*="#"]').not('[href="#"]').not('[href="#0"]').not('[href*="#trello"]').click(function(e){if(location.pathname.replace(/^\//,"")==this.pathname.replace(/^\//,"")&&location.hostname==this.hostname){var t=n(this.hash);(t=t.length?t:n("[name="+this.hash.slice(1)+"]")).length&&(e.preventDefault(),n("html, body").animate({scrollTop:t.offset().top},1e3,function(){var e=n(t);if(e.focus(),e.is(":focus"))return!1;e.attr("tabindex","-1"),e.focus()}))}}),n(".sub_nav").length&&n("body").addClass("theme_sub_nav"),n(".filter, .site_search_results").length&&n("body").addClass("theme_centered"),(n(".cover_image_block").length||n(".cover_video_block").length)&&n("body").addClass("theme_image"),n(".cover_detail_image_block").length&&n("body").addClass("theme_detail_image"),n(".news_feature").length&&n("body").addClass("theme_news"),a.$body.find(".js-toggle").not(".js-bound").on("click",".js-toggle-handle",g).addClass("js-bound"),a.$body.find(".js-scroll-to").not(".js-bound").on("click",p).addClass("js-bound"),a.$body.find(".typography table").wrap('<div class="table_wrapper"><div class="table_wrapper_inner"></div></div>'),f(),n("iframe[src*='vimeo.com'], iframe[src*='youtube.com']",".typography").each(function(){n(this).wrap('<div class="video_frame"></div>')}),n("img").each(function(){n(this).parent().is("a")&&n(this).parent().addClass("image_link")}),a.onScroll.push(r),a.onResize.push(l),a.onRespond.push(c),a.scroll()}),{}}(jQuery,Site),Site.modules.Stories=function(n,e){var t,i,a,o,s,r,l,c;function d(){o.removeClass("chosen")}function u(){return Math.round(Math.random()*(r-0)+0)}function h(){for(;n(".story_item.chosen").length<l;)o.eq(u()).addClass("chosen")}function p(e){var t=n(".story_item[data-id="+e+"]");if(t.length<=l)t.addClass("chosen");else for(;n(".story_item.chosen[data-id="+e+"]").length<l;){var i=u();o.eq(i).data("id")==e&&o.eq(i).addClass("chosen")}}function g(){}function m(){!function(){if(s=n(".story_holder"),n(".story_item.chosen").length>s.length)for(var e=n(".story_item.chosen").length-s.length,t=0;t<e;t++)n(".stories_group .fs-carousel-canister").append('<article class="story story_holder"></article>'),console.log("wh")}(),n(".stories").addClass("animating"),c=setTimeout(function(){n(".stories").removeClass("animating"),clearTimeout(c),a.carousel("reset")},2e3),a.carousel("reset");setTimeout(function(){(s=n(".story_holder")).html(""),n(".story_item.chosen").each(function(e){s.eq(e).append(n(this).clone().find(".story_link"))}),s.each(function(){n(this).is(":empty")&&n(this).remove()}),a.carousel("reset")},1150)}return e.onInit.push(function(){n(".stories").length&&(t=n(".js-dropdown"),i=n(".stories_option"),a=n(".stories_group"),o=n(".story_item"),s=n(".story_holder"),r=o.length,l=6,o.length<l&&(l=o.length),function(){for(var e=0;e<r;e++)o.parent().append(o.eq(u()))}(),t.val("All Stories").trigger("change"),h(),i.on("click",function(){!function(e){i.removeClass("active"),e.addClass("active")}(n(this)),d(),"All Stories"==n(this).data("id")?h():p(n(this).data("id")),m()}),t.on("change",function(){var e=n(this).val();d(),"All Stories"==e?h():p(e),m()}),e.onResize.push(g),m())}),{}}(jQuery,Site),Site.modules.Cover=function(t,e){function i(){var e;t(".cover").hasClass("theme_sm")?e=t(".header").outerHeight()+t(".sub_nav").outerHeight(!0):(e=parseInt(t(".page").css("padding-top").replace("px",""))+parseInt(t(".page_content").css("padding-top").replace("px",""))+t(".page_header_wrapper").outerHeight(!0),t(".sidebar > *").length&&t(".subnav_cell").css("padding-top",t(".page_header_wrapper").outerHeight(!0)+60),t(".in_content_callouts .filter").length&&t("body").addClass("theme_covered_filter")),(t(".full_width_callouts .filter").length||t(".site_search_results").length)&&(e+=70),t(".cover").css("height",e)}return e.onInit.push(function(){t(".cover").length&&(i(),e.onResize.push(i))}),{}}(jQuery,Site),Site.modules.Maps=function(t){return Site.onInit.push(function(){t(".mini_map_points .mini_map_button_open").on("click",function(){t(this).closest(".mini_map").addClass("visible-marker")}),t(".mini_map_points .mini_map_button_close").on("click",function(){t(this).closest(".mini_map").removeClass("visible-marker")}),t(".big_map_points .mini_map_button_open, .big_map_list_item").on("click",function(){t(this).closest(".big_map").addClass("visible-marker")}),t(".big_map_points .mini_map_button_close").on("click",function(){t(this).closest(".big_map").removeClass("visible-marker")}),t(".big_map_dropdown").on("change",function(){var e=t(this).val();console.log(e),t("[data-id='"+e+"']").swap("activate")})}),{}}(jQuery),Site.modules.Circles=(jQuery,Site.onInit.push(function(){var i=document.getElementById("circles-canvas");if(void 0!==i&&null!=i){var v=i.getContext("2d"),b=i.width=window.innerWidth,w=i.height=window.innerHeight;v.fillStyle="#fff";var y=[],$=null;function n(){this.r=a(25,170),this.x=a(this.r,b-this.r),this.y=a(this.r,w-this.r),this.vx=a(25,100)/100,this.vy=a(25,100)/100,this.update=function(){this.edges(),this.x+=this.vx,this.y+=this.vy},this.edges=function(){(this.x<this.r||this.x>b-this.r)&&(this.vx*=-1),(this.y<this.r||this.y>w-this.r)&&(this.vy*=-1)},this.draw=function(){v.strokeStyle="#353535",v.beginPath(),v.arc(this.x,this.y,this.r,0,2*Math.PI),v.stroke()}}for(var e=0;e<15;e++){var t=new n;y.push(t)}function x(){$=window.requestAnimationFrame(x),v.clearRect(0,0,b,w);for(var e=0;e<y.length;e++)(t=y[e]).update(),t.draw();for(e=0;e<y.length;e++)for(var t=y[e],i=e+1;i<y.length;i++){var n=y[i],a=(p=t,m=(g=n).x-p.x,f=g.y-p.y,Math.sqrt(m*m+f*f));a<t.r+n.r&&a>Math.abs(t.r-n.r)&&(o=t,s=n,r=a,d=c=l=void 0,l={},c={},d={},u=(Math.pow(o.r,2)-Math.pow(s.r,2)+Math.pow(r,2))/(2*r),h=Math.sqrt(Math.pow(o.r,2)-Math.pow(u,2)),l.x=o.x+u*(s.x-o.x)/r,l.y=o.y+u*(s.y-o.y)/r,c.x=l.x+h*(s.y-o.y)/r,c.y=l.y-h*(s.x-o.x)/r,d.x=l.x-h*(s.y-o.y)/r,d.y=l.y+h*(s.x-o.x)/r,C(c),C(d))}var o,s,r,l,c,d,u,h,p,g,m,f}function a(e,t){return~~(Math.random()*(t-e+1)+e)}function C(e){v.fillStyle="#fff",v.beginPath(),v.arc(e.x,e.y,2,0,2*Math.PI),v.fill()}setTimeout(function(){!function(){for(var e=y.length=0;e<15;e++){var t=new n;y.push(t)}$&&(window.cancelAnimationFrame($),$=null),b=i.width=window.innerWidth,w=i.height=window.innerHeight,x()}()},15)}}),{}),Site.modules.Lines=(jQuery,Site.onInit.push(function(){var i=document.getElementById("lines-canvas");if(void 0!==i&&null!=i){var u=i.getContext("2d"),n=i.width=window.innerWidth,a=i.height=window.innerHeight;u.fillStyle="#F7F7F7";var o=[],s=null;function r(e){this.flag=e,this.a={},this.b={},"v"==e?(this.a.y=0,this.b.y=a,this.a.x=d(0,a),this.b.x=d(0,a)):"h"==e&&(this.a.x=0,this.b.x=n,this.a.y=d(0,n),this.b.y=d(0,n)),this.va=d(25,100)/100,this.vb=d(25,100)/100,this.draw=function(){u.strokeStyle="#E3E3E3",u.beginPath(),u.moveTo(this.a.x,this.a.y),u.lineTo(this.b.x,this.b.y),u.stroke()},this.update=function(){"v"==this.flag?(this.a.x+=this.va,this.b.x+=this.vb):"h"==e&&(this.a.y+=this.va,this.b.y+=this.vb),this.edges()},this.edges=function(){"v"==this.flag?((this.a.x<0||this.a.x>n)&&(this.va*=-1),(this.b.x<0||this.b.x>n)&&(this.vb*=-1)):"h"==this.flag&&((this.a.y<0||this.a.y>a)&&(this.va*=-1),(this.b.y<0||this.b.y>a)&&(this.vb*=-1))}}for(var e=0;e<8;e++){var t=new r(e%2==0?"h":"v");o.push(t)}function l(){s=window.requestAnimationFrame(l),u.clearRect(0,0,n,a);for(var e=0;e<o.length;e++)(t=o[e]).draw(),t.update();for(e=0;e<o.length;e++)for(var t=o[e],i=e+1;i<o.length;i++)c(t,o[i])}function c(e,t){var i=e.a,n=e.b,a=t.a,o=t.b,s=(o.y-a.y)*(n.x-i.x)-(o.x-a.x)*(n.y-i.y),r=((o.x-a.x)*(i.y-a.y)-(o.y-a.y)*(i.x-a.x))/s,l=((n.x-i.x)*(i.y-a.y)-(n.y-i.y)*(i.x-a.x))/s,c=i.x+r*(n.x-i.x),d=i.y+r*(n.y-i.y);0<r&&0<l&&function(e){u.fillStyle="#838383",u.beginPath(),u.arc(e.x,e.y,2,0,2*Math.PI),u.fill()}({x:c,y:d})}function d(e,t){return~~(Math.random()*(t-e+1)+e)}setTimeout(function(){!function(){for(var e=0;e<8;e++){var t=new r(e%2==0?"h":"v");o.push(t)}s&&(window.cancelAnimationFrame(s),s=null),n=i.width=window.innerWidth,a=i.height=window.innerHeight,l()}()},15)}}),{}),Site.modules.Alert=function(e,t){var i=e(".alert"),n=e(".alert_close"),a=i.data("time"),o="alert-cookie";function s(){i.removeClass("show_alert"),e(".page").css("padding-top","")}return t.onInit.push(function(){i.length&&(e.cookie(o)===a?s():(i.addClass("show_alert"),e(".page").css("padding-top",i.innerHeight())),n.on("click",function(){e.cookie(o,a),console.log(e.cookie(o)),s()}))}),{}}(jQuery,Site);